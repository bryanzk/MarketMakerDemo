# UI-004: Dedicated Hyperliquid Trading Page / ä¸“ç”¨ Hyperliquid äº¤æ˜“é¡µé¢

## Overview / æ¦‚è¿°

This feature creates a dedicated web page for Hyperliquid trading activities, providing a focused interface for strategy control, LLM evaluation, position tracking, and order management specifically for Hyperliquid exchange. The page follows a similar structure to LLMTrade.html but is exclusively designed for Hyperliquid trading operations.

æ­¤åŠŸèƒ½ä¸º Hyperliquid äº¤æ˜“æ´»åŠ¨åˆ›å»ºä¸€ä¸ªä¸“ç”¨ç½‘é¡µï¼Œä¸º Hyperliquid äº¤æ˜“æ‰€çš„ç­–ç•¥æ§åˆ¶ã€LLM è¯„ä¼°ã€ä»“ä½è¿½è¸ªå’Œè®¢å•ç®¡ç†æä¾›ä¸“æ³¨çš„ç•Œé¢ã€‚è¯¥é¡µé¢éµå¾ªä¸ LLMTrade.html ç±»ä¼¼çš„ç»“æ„ï¼Œä½†ä¸“é—¨ä¸º Hyperliquid äº¤æ˜“æ“ä½œè®¾è®¡ã€‚

**Epic / Epic**: EPIC-02: Hyperliquid Exchange Integration  
**Module / æ¨¡å—**: web  
**Owner / è´Ÿè´£äºº**: Agent WEB  
**Status / çŠ¶æ€**: spec_defined  
**User Story / ç”¨æˆ·æ•…äº‹**: US-UI-004

---

## Purpose / ç›®çš„

### Business Value / ä¸šåŠ¡ä»·å€¼

- **Focused Trading Experience / ä¸“æ³¨çš„äº¤æ˜“ä½“éªŒ**: Provides a dedicated interface for Hyperliquid trading, reducing cognitive load and improving user experience
- **ä¸“æ³¨çš„äº¤æ˜“ä½“éªŒ**: ä¸º Hyperliquid äº¤æ˜“æä¾›ä¸“ç”¨ç•Œé¢ï¼Œå‡å°‘è®¤çŸ¥è´Ÿæ‹…å¹¶æ”¹å–„ç”¨æˆ·ä½“éªŒ
- **Exchange-Specific Features / äº¤æ˜“æ‰€ç‰¹å®šåŠŸèƒ½**: Allows for Hyperliquid-specific UI elements and workflows that may differ from Binance
- **äº¤æ˜“æ‰€ç‰¹å®šåŠŸèƒ½**: å…è®¸ä¸ Binance ä¸åŒçš„ Hyperliquid ç‰¹å®š UI å…ƒç´ å’Œå·¥ä½œæµ
- **Clear Separation of Concerns / æ¸…æ™°çš„å…³æ³¨ç‚¹åˆ†ç¦»**: Separates Hyperliquid trading from Binance trading, making it easier to manage multiple exchanges
- **æ¸…æ™°çš„å…³æ³¨ç‚¹åˆ†ç¦»**: å°† Hyperliquid äº¤æ˜“ä¸ Binance äº¤æ˜“åˆ†ç¦»ï¼Œä½¿ç®¡ç†å¤šä¸ªäº¤æ˜“æ‰€æ›´å®¹æ˜“

### User Value / ç”¨æˆ·ä»·å€¼

- Traders can access all Hyperliquid trading features in one dedicated page
- äº¤æ˜“å‘˜å¯ä»¥åœ¨ä¸€ä¸ªä¸“ç”¨é¡µé¢ä¸­è®¿é—®æ‰€æœ‰ Hyperliquid äº¤æ˜“åŠŸèƒ½
- Clear visual indication that they are trading on Hyperliquid (not Binance)
- æ¸…æ¥šåœ°è¡¨æ˜ä»–ä»¬åœ¨ Hyperliquid ä¸Šäº¤æ˜“ï¼ˆä¸æ˜¯ Binanceï¼‰
- Optimized UI layout for Hyperliquid-specific trading workflows
- é’ˆå¯¹ Hyperliquid ç‰¹å®šäº¤æ˜“å·¥ä½œæµä¼˜åŒ–çš„ UI å¸ƒå±€
- Better organization of Hyperliquid trading activities
- æ›´å¥½åœ°ç»„ç»‡ Hyperliquid äº¤æ˜“æ´»åŠ¨

---

## Requirements / éœ€æ±‚

### REQ-1: Dedicated Page Structure / ä¸“ç”¨é¡µé¢ç»“æ„

**Description / æè¿°**:  
The system must provide a dedicated HTML page (or route) specifically for Hyperliquid trading activities.

ç³»ç»Ÿå¿…é¡»ä¸º Hyperliquid äº¤æ˜“æ´»åŠ¨æä¾›ä¸“ç”¨çš„ HTML é¡µé¢ï¼ˆæˆ–è·¯ç”±ï¼‰ã€‚

**Details / è¯¦æƒ…**:
- Create `templates/HyperliquidTrade.html` or route `/hyperliquid`
- åˆ›å»º `templates/HyperliquidTrade.html` æˆ–è·¯ç”± `/hyperliquid`
- Page should have Hyperliquid-specific branding and layout
- é¡µé¢åº”å…·æœ‰ Hyperliquid ç‰¹å®šçš„å“ç‰Œå’Œå¸ƒå±€
- Follow similar structure to `LLMTrade.html` but focused on Hyperliquid
- éµå¾ªä¸ `LLMTrade.html` ç±»ä¼¼çš„ç»“æ„ï¼Œä½†ä¸“æ³¨äº Hyperliquid
- Include navigation links to return to dashboard or other pages
- åŒ…å«è¿”å›ä»ªè¡¨ç›˜æˆ–å…¶ä»–é¡µé¢çš„å¯¼èˆªé“¾æ¥

**User Story / ç”¨æˆ·æ•…äº‹**: US-UI-004 (AC-1)

---

### REQ-2: Strategy Control Panel / ç­–ç•¥æ§åˆ¶é¢æ¿

**Description / æè¿°**:  
The page must include a strategy control panel for configuring Fixed Spread Strategy parameters specifically for Hyperliquid.

é¡µé¢å¿…é¡»åŒ…å«ä¸€ä¸ªç­–ç•¥æ§åˆ¶é¢æ¿ï¼Œç”¨äºé…ç½®ä¸“é—¨é’ˆå¯¹ Hyperliquid çš„å›ºå®šä»·å·®ç­–ç•¥å‚æ•°ã€‚

**Details / è¯¦æƒ…**:
- Display controls for spread, quantity, and leverage
- æ˜¾ç¤ºä»·å·®ã€æ•°é‡å’Œæ æ†çš„æ§ä»¶
- **Note / æ³¨æ„**: Fixed Spread Strategy does NOT include skew factor parameter. Only spread, quantity, and leverage are configurable.
- **æ³¨æ„ / æ³¨æ„**: å›ºå®šä»·å·®ç­–ç•¥ä¸åŒ…å«å€¾æ–œå› å­ï¼ˆskew factorï¼‰å‚æ•°ã€‚ä»…ä»·å·®ã€æ•°é‡å’Œæ æ†å¯é…ç½®ã€‚
- Provide Hyperliquid-specific trading pair selection
- æä¾› Hyperliquid ç‰¹å®šçš„äº¤æ˜“å¯¹é€‰æ‹©
- Allow users to start/stop strategy for Hyperliquid
- å…è®¸ç”¨æˆ·å¯åŠ¨/åœæ­¢ Hyperliquid çš„ç­–ç•¥
- Display current strategy configuration for Hyperliquid
- æ˜¾ç¤º Hyperliquid çš„å½“å‰ç­–ç•¥é…ç½®

**User Story / ç”¨æˆ·æ•…äº‹**: US-UI-004 (AC-2)

---

### REQ-3: Position and Balance Panel / ä»“ä½ä¸ä½™é¢é¢æ¿

**Description / æè¿°**:  
The page must display Hyperliquid account balance, open positions, and PnL information in a dedicated panel.

é¡µé¢å¿…é¡»åœ¨ä¸“ç”¨é¢æ¿ä¸­æ˜¾ç¤º Hyperliquid è´¦æˆ·ä½™é¢ã€æœªå¹³ä»“ä»“ä½å’Œç›ˆäºä¿¡æ¯ã€‚

**Details / è¯¦æƒ…**:
- Display account balance (available, total, margin)
- æ˜¾ç¤ºè´¦æˆ·ä½™é¢ï¼ˆå¯ç”¨ã€æ€»è®¡ã€ä¿è¯é‡‘ï¼‰
- Show open positions table with details (symbol, side, size, entry price, mark price)
- æ˜¾ç¤ºæœªå¹³ä»“ä»“ä½è¡¨åŠå…¶è¯¦æƒ…ï¼ˆäº¤æ˜“å¯¹ã€æ–¹å‘ã€æ•°é‡ã€å¼€ä»“ä»·æ ¼ã€æ ‡è®°ä»·æ ¼ï¼‰
- Display unrealized and realized PnL
- æ˜¾ç¤ºæœªå®ç°å’Œå·²å®ç°ç›ˆäº
- Show margin information (used, available, ratio, liquidation price)
- æ˜¾ç¤ºä¿è¯é‡‘ä¿¡æ¯ï¼ˆå·²ç”¨ã€å¯ç”¨ã€æ¯”ç‡ã€æ¸…ç®—ä»·æ ¼ï¼‰
- Support real-time updates when position or balance changes
- æ”¯æŒä»“ä½æˆ–ä½™é¢å˜åŒ–æ—¶çš„å®æ—¶æ›´æ–°

**User Story / ç”¨æˆ·æ•…äº‹**: US-UI-004 (AC-3)  
**Depends on / ä¾èµ–**: US-CORE-004-C (Position tracking functionality)

---

### REQ-4: LLM Evaluation Integration / LLM è¯„ä¼°é›†æˆ

**Description / æè¿°**:  
The page must integrate with the LLM evaluation API (US-API-004) to provide AI-powered trading parameter suggestions for Hyperliquid.

é¡µé¢å¿…é¡»ä¸ LLM è¯„ä¼° APIï¼ˆUS-API-004ï¼‰é›†æˆï¼Œä¸º Hyperliquid æä¾› AI é©±åŠ¨çš„äº¤æ˜“å‚æ•°å»ºè®®ã€‚

**Details / è¯¦æƒ…**:
- Display Multi-LLM Evaluation section
- æ˜¾ç¤ºå¤š LLM è¯„ä¼°éƒ¨åˆ†
- Allow users to run LLM evaluation specifically for Hyperliquid
- å…è®¸ç”¨æˆ·ä¸“é—¨ä¸º Hyperliquid è¿è¡Œ LLM è¯„ä¼°
- **Display evaluation progress in real-time / å®æ—¶æ˜¾ç¤ºè¯„ä¼°è¿›åº¦**:
  - Show current evaluation status (e.g., "Evaluating with Claude...", "Evaluating with GPT-4...")
  - æ˜¾ç¤ºå½“å‰è¯„ä¼°çŠ¶æ€ï¼ˆä¾‹å¦‚ï¼Œ"æ­£åœ¨ä½¿ç”¨ Claude è¯„ä¼°..."ï¼Œ"æ­£åœ¨ä½¿ç”¨ GPT-4 è¯„ä¼°..."ï¼‰
  - Display progress indicator showing which LLM provider is currently being evaluated
  - æ˜¾ç¤ºè¿›åº¦æŒ‡ç¤ºå™¨ï¼Œæ˜¾ç¤ºå½“å‰æ­£åœ¨è¯„ä¼°çš„ LLM æä¾›å•†
  - Show completion status for each LLM provider (e.g., "âœ“ Claude completed", "â³ GPT-4 in progress")
  - æ˜¾ç¤ºæ¯ä¸ª LLM æä¾›å•†çš„å®ŒæˆçŠ¶æ€ï¼ˆä¾‹å¦‚ï¼Œ"âœ“ Claude å·²å®Œæˆ"ï¼Œ"â³ GPT-4 è¿›è¡Œä¸­"ï¼‰
  - Display overall progress (e.g., "2 of 3 LLM providers completed")
  - æ˜¾ç¤ºæ€»ä½“è¿›åº¦ï¼ˆä¾‹å¦‚ï¼Œ"3 ä¸ª LLM æä¾›å•†ä¸­çš„ 2 ä¸ªå·²å®Œæˆ"ï¼‰
  - Update progress in real-time as each LLM provider completes evaluation
  - å½“æ¯ä¸ª LLM æä¾›å•†å®Œæˆè¯„ä¼°æ—¶å®æ—¶æ›´æ–°è¿›åº¦
- Display LLM parameter suggestions (spread, quantity, leverage) from multiple LLM providers
- æ˜¾ç¤ºæ¥è‡ªå¤šä¸ª LLM æä¾›å•†çš„ LLM å‚æ•°å»ºè®®ï¼ˆä»·å·®ã€æ•°é‡ã€æ æ†ï¼‰
- **Note / æ³¨æ„**: Fixed Spread Strategy does NOT use skew factor, so LLM suggestions should not include skew factor for Hyperliquid Fixed Spread Strategy.
- **æ³¨æ„ / æ³¨æ„**: å›ºå®šä»·å·®ç­–ç•¥ä¸ä½¿ç”¨å€¾æ–œå› å­ï¼Œå› æ­¤ LLM å»ºè®®ä¸åº”åŒ…å« Hyperliquid å›ºå®šä»·å·®ç­–ç•¥çš„å€¾æ–œå› å­ã€‚
- Show intermediate results as they become available (display each LLM provider's result immediately when ready)
- åœ¨ä¸­é—´ç»“æœå¯ç”¨æ—¶æ˜¾ç¤ºï¼ˆå½“æ¯ä¸ª LLM æä¾›å•†çš„ç»“æœå‡†å¤‡å¥½æ—¶ç«‹å³æ˜¾ç¤ºï¼‰
- Allow users to apply LLM suggestions to Hyperliquid exchange configuration
- å…è®¸ç”¨æˆ·å°† LLM å»ºè®®åº”ç”¨åˆ° Hyperliquid äº¤æ˜“æ‰€é…ç½®
- Display evaluation process/status with visual feedback (progress bars, status icons, etc.)
- ä½¿ç”¨è§†è§‰åé¦ˆæ˜¾ç¤ºè¯„ä¼°è¿‡ç¨‹/çŠ¶æ€ï¼ˆè¿›åº¦æ¡ã€çŠ¶æ€å›¾æ ‡ç­‰ï¼‰

**User Story / ç”¨æˆ·æ•…äº‹**: US-UI-004 (AC-4)  
**Depends on / ä¾èµ–**: US-API-004 (LLM evaluation API support)

---

### REQ-5: Order Management Panel / è®¢å•ç®¡ç†é¢æ¿

**Description / æè¿°**:  
The page must display and allow management of Hyperliquid orders.

é¡µé¢å¿…é¡»æ˜¾ç¤ºå¹¶å…è®¸ç®¡ç† Hyperliquid è®¢å•ã€‚

**Details / è¯¦æƒ…**:
- Display current Hyperliquid orders in a table
- åœ¨è¡¨æ ¼ä¸­æ˜¾ç¤ºå½“å‰ Hyperliquid è®¢å•
- Allow users to place new orders (limit and market)
- å…è®¸ç”¨æˆ·ä¸‹æ–°è®¢å•ï¼ˆé™ä»·å’Œå¸‚ä»·ï¼‰
- Allow users to cancel orders (single and bulk)
- å…è®¸ç”¨æˆ·å–æ¶ˆè®¢å•ï¼ˆå•ä¸ªå’Œæ‰¹é‡ï¼‰
- Display order history specific to Hyperliquid
- æ˜¾ç¤ºç‰¹å®šäº Hyperliquid çš„è®¢å•å†å²
- Support real-time order updates
- æ”¯æŒå®æ—¶è®¢å•æ›´æ–°

**User Story / ç”¨æˆ·æ•…äº‹**: US-UI-004 (AC-5)  
**Depends on / ä¾èµ–**: US-CORE-004-B (Order management functionality)

---

### REQ-6: Real-time Updates / å®æ—¶æ›´æ–°

**Description / æè¿°**:  
The page must automatically refresh and display updated information when positions, balance, or orders change on Hyperliquid.

å½“ Hyperliquid ä¸Šçš„ä»“ä½ã€ä½™é¢æˆ–è®¢å•å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé¡µé¢å¿…é¡»è‡ªåŠ¨åˆ·æ–°å¹¶æ˜¾ç¤ºæ›´æ–°çš„ä¿¡æ¯ã€‚

**Details / è¯¦æƒ…**:
- Implement polling mechanism to fetch updated data periodically
- å®ç°è½®è¯¢æœºåˆ¶ä»¥å®šæœŸè·å–æ›´æ–°çš„æ•°æ®
- Use WebSocket if available for real-time updates
- å¦‚æœå¯ç”¨ï¼Œä½¿ç”¨ WebSocket è¿›è¡Œå®æ—¶æ›´æ–°
- Update UI without requiring manual page refresh
- æ›´æ–° UIï¼Œæ— éœ€æ‰‹åŠ¨åˆ·æ–°é¡µé¢
- Cache data appropriately to reduce API calls
- é€‚å½“ç¼“å­˜æ•°æ®ä»¥å‡å°‘ API è°ƒç”¨

**User Story / ç”¨æˆ·æ•…äº‹**: US-UI-004 (AC-6)

---

### REQ-7: Navigation and Integration / å¯¼èˆªä¸é›†æˆ

**Description / æè¿°**:  
The page must be accessible from other pages in the application and provide navigation to other pages.

é¡µé¢å¿…é¡»å¯ä»åº”ç”¨ç¨‹åºä¸­çš„å…¶ä»–é¡µé¢è®¿é—®ï¼Œå¹¶æä¾›åˆ°å…¶ä»–é¡µé¢çš„å¯¼èˆªã€‚

**Details / è¯¦æƒ…**:
- Add navigation link/button in main dashboard (`index.html`) to navigate to Hyperliquid page
- åœ¨ä¸»ä»ªè¡¨ç›˜ï¼ˆ`index.html`ï¼‰ä¸­æ·»åŠ å¯¼èˆªé“¾æ¥/æŒ‰é’®ä»¥å¯¼èˆªåˆ° Hyperliquid é¡µé¢
- Add navigation link/button in `LLMTrade.html` to navigate to Hyperliquid page
- åœ¨ `LLMTrade.html` ä¸­æ·»åŠ å¯¼èˆªé“¾æ¥/æŒ‰é’®ä»¥å¯¼èˆªåˆ° Hyperliquid é¡µé¢
- Include "Back to Dashboard" link in Hyperliquid page
- åœ¨ Hyperliquid é¡µé¢ä¸­åŒ…å«"è¿”å›ä»ªè¡¨ç›˜"é“¾æ¥
- Use consistent navigation pattern across all pages
- åœ¨æ‰€æœ‰é¡µé¢ä¸­ä½¿ç”¨ä¸€è‡´çš„å¯¼èˆªæ¨¡å¼

**User Story / ç”¨æˆ·æ•…äº‹**: US-UI-004 (AC-7)

---

### REQ-8: Bilingual Support / åŒè¯­æ”¯æŒ

**Description / æè¿°**:  
All UI text and labels must be displayed in both English and Chinese.

æ‰€æœ‰ UI æ–‡æœ¬å’Œæ ‡ç­¾å¿…é¡»ä»¥è‹±æ–‡å’Œä¸­æ–‡æ˜¾ç¤ºã€‚

**Details / è¯¦æƒ…**:
- All text elements must have both English and Chinese versions
- æ‰€æœ‰æ–‡æœ¬å…ƒç´ å¿…é¡»åŒæ—¶å…·æœ‰è‹±æ–‡å’Œä¸­æ–‡ç‰ˆæœ¬
- Use consistent bilingual format: "English / ä¸­æ–‡"
- ä½¿ç”¨ä¸€è‡´çš„åŒè¯­æ ¼å¼ï¼š"English / ä¸­æ–‡"
- Error messages must be bilingual
- é”™è¯¯æ¶ˆæ¯å¿…é¡»æ˜¯åŒè¯­çš„
- Maintain consistency with rest of application
- ä¸åº”ç”¨ç¨‹åºçš„å…¶ä½™éƒ¨åˆ†ä¿æŒä¸€è‡´

**User Story / ç”¨æˆ·æ•…äº‹**: US-UI-004 (AC-8)

---

### REQ-9: Connection Status Display / è¿æ¥çŠ¶æ€æ˜¾ç¤º

**Description / æè¿°**:  
The page must clearly display Hyperliquid connection status and current trading pair.

é¡µé¢å¿…é¡»æ¸…æ¥šåœ°æ˜¾ç¤º Hyperliquid è¿æ¥çŠ¶æ€å’Œå½“å‰äº¤æ˜“å¯¹ã€‚

**Details / è¯¦æƒ…**:
- Display Hyperliquid connection status (connected/disconnected)
- æ˜¾ç¤º Hyperliquid è¿æ¥çŠ¶æ€ï¼ˆå·²è¿æ¥/å·²æ–­å¼€ï¼‰
- Show current trading pair
- æ˜¾ç¤ºå½“å‰äº¤æ˜“å¯¹
- Display connection errors if any
- å¦‚æœæœ‰ï¼Œæ˜¾ç¤ºè¿æ¥é”™è¯¯
- Provide visual indicators (e.g., green/red status indicator)
- æä¾›è§†è§‰æŒ‡ç¤ºå™¨ï¼ˆä¾‹å¦‚ï¼Œç»¿è‰²/çº¢è‰²çŠ¶æ€æŒ‡ç¤ºå™¨ï¼‰

**User Story / ç”¨æˆ·æ•…äº‹**: US-UI-004 (AC-9)

---

### REQ-10: Error Handling / é”™è¯¯å¤„ç†

**Description / æè¿°**:  
The page must handle errors gracefully and display clear error messages in both English and Chinese.

é¡µé¢å¿…é¡»ä¼˜é›…åœ°å¤„ç†é”™è¯¯å¹¶ä»¥è‹±æ–‡å’Œä¸­æ–‡æ˜¾ç¤ºæ¸…æ™°çš„é”™è¯¯æ¶ˆæ¯ã€‚

**Details / è¯¦æƒ…**:
- Check Hyperliquid connection status before displaying data
- åœ¨æ˜¾ç¤ºæ•°æ®å‰æ£€æŸ¥ Hyperliquid è¿æ¥çŠ¶æ€
- Display clear error messages if connection fails
- å¦‚æœè¿æ¥å¤±è´¥ï¼Œæ˜¾ç¤ºæ¸…æ™°çš„é”™è¯¯æ¶ˆæ¯
- Handle API errors gracefully with bilingual messages
- ä½¿ç”¨åŒè¯­æ¶ˆæ¯ä¼˜é›…åœ°å¤„ç† API é”™è¯¯
- Provide actionable error messages (e.g., "Please connect to Hyperliquid first")
- æä¾›å¯æ“ä½œçš„é”™è¯¯æ¶ˆæ¯ï¼ˆä¾‹å¦‚ï¼Œ"è¯·å…ˆè¿æ¥åˆ° Hyperliquid"ï¼‰

**User Story / ç”¨æˆ·æ•…äº‹**: US-UI-004 (AC-10)

---

## Acceptance Criteria / éªŒæ”¶æ ‡å‡†

### Phase 1: Page Structure and Navigation / é˜¶æ®µ 1ï¼šé¡µé¢ç»“æ„å’Œå¯¼èˆª

- [ ] **AC-1.1**: Dedicated page is accessible at `/hyperliquid` or `HyperliquidTrade.html`
- [ ] **AC-1.1**: ä¸“ç”¨é¡µé¢å¯åœ¨ `/hyperliquid` æˆ– `HyperliquidTrade.html` è®¿é—®
- [ ] **AC-1.2**: Page has Hyperliquid-specific branding and layout
- [ ] **AC-1.2**: é¡µé¢å…·æœ‰ Hyperliquid ç‰¹å®šçš„å“ç‰Œå’Œå¸ƒå±€
- [ ] **AC-1.3**: Navigation link appears in main dashboard (`index.html`)
- [ ] **AC-1.3**: å¯¼èˆªé“¾æ¥å‡ºç°åœ¨ä¸»ä»ªè¡¨ç›˜ï¼ˆ`index.html`ï¼‰ä¸­
- [ ] **AC-1.4**: Navigation link appears in `LLMTrade.html`
- [ ] **AC-1.4**: å¯¼èˆªé“¾æ¥å‡ºç°åœ¨ `LLMTrade.html` ä¸­
- [ ] **AC-1.5**: "Back to Dashboard" link is present in Hyperliquid page
- [ ] **AC-1.5**: "è¿”å›ä»ªè¡¨ç›˜"é“¾æ¥å‡ºç°åœ¨ Hyperliquid é¡µé¢ä¸­

### Phase 2: Strategy Control and Position/Balance / é˜¶æ®µ 2ï¼šç­–ç•¥æ§åˆ¶å’Œä»“ä½/ä½™é¢

- [ ] **AC-2.1**: Strategy control panel displays Fixed Spread Strategy parameters (spread, quantity, leverage). Note: Skew factor is NOT included for Fixed Spread Strategy.
- [ ] **AC-2.1**: ç­–ç•¥æ§åˆ¶é¢æ¿æ˜¾ç¤ºå›ºå®šä»·å·®ç­–ç•¥å‚æ•°ï¼ˆä»·å·®ã€æ•°é‡ã€æ æ†ï¼‰ã€‚æ³¨æ„ï¼šå›ºå®šä»·å·®ç­–ç•¥ä¸åŒ…å«å€¾æ–œå› å­ã€‚
- [ ] **AC-2.2**: Trading pair selector shows Hyperliquid-specific trading pairs
- [ ] **AC-2.2**: äº¤æ˜“å¯¹é€‰æ‹©å™¨æ˜¾ç¤º Hyperliquid ç‰¹å®šçš„äº¤æ˜“å¯¹
- [ ] **AC-2.3**: Position and balance panel displays account balance (available, total, margin)
- [ ] **AC-2.3**: ä»“ä½å’Œä½™é¢é¢æ¿æ˜¾ç¤ºè´¦æˆ·ä½™é¢ï¼ˆå¯ç”¨ã€æ€»è®¡ã€ä¿è¯é‡‘ï¼‰
- [ ] **AC-2.4**: Position and balance panel displays open positions table with details
- [ ] **AC-2.4**: ä»“ä½å’Œä½™é¢é¢æ¿æ˜¾ç¤ºåŒ…å«è¯¦æƒ…çš„æœªå¹³ä»“ä»“ä½è¡¨
- [ ] **AC-2.5**: Position and balance panel displays unrealized/realized PnL
- [ ] **AC-2.5**: ä»“ä½å’Œä½™é¢é¢æ¿æ˜¾ç¤ºæœªå®ç°/å·²å®ç°ç›ˆäº
- [ ] **AC-2.6**: Position and balance panel displays margin information
- [ ] **AC-2.6**: ä»“ä½å’Œä½™é¢é¢æ¿æ˜¾ç¤ºä¿è¯é‡‘ä¿¡æ¯

### Phase 3: LLM Evaluation Integration / é˜¶æ®µ 3ï¼šLLM è¯„ä¼°é›†æˆ

- [ ] **AC-3.1**: Multi-LLM Evaluation section is displayed
- [ ] **AC-3.1**: æ˜¾ç¤ºå¤š LLM è¯„ä¼°éƒ¨åˆ†
- [ ] **AC-3.2**: Users can run LLM evaluation specifically for Hyperliquid
- [ ] **AC-3.2**: ç”¨æˆ·å¯ä»¥ä¸“é—¨ä¸º Hyperliquid è¿è¡Œ LLM è¯„ä¼°
- [ ] **AC-3.3**: Evaluation progress is displayed in real-time with detailed 6-step progress for each provider, showing:
  - Overall evaluation status (in progress, completed, failed) with elapsed time
  - Overall progress bar showing percentage and fraction (e.g., "2 / 4 providers completed / 2 / 4 ä¸ªæä¾›å•†å·²å®Œæˆ")
  - For each LLM provider:
    - Step indicator (e.g., "Step 3/6: Inferring / æ­¥éª¤ 3/6: æ¨ç†ä¸­")
    - Status icon for current step (ğŸ“Š Collecting Data, ğŸ“ Building Prompt, ğŸ§  Inferring, ğŸ” Parsing & Validating, ğŸ² Simulating, ğŸ“ˆ Scoring, âœ“ Completed, âœ— Failed)
    - Status text indicating current step
    - Individual progress bar (for simulating: "Simulating: 250/500 steps (50%) / æ¨¡æ‹Ÿä¸­: 250/500 æ­¥ (50%)")
    - Elapsed time for completed/failed providers
  - Current provider being evaluated is highlighted (blue border and background)
  - Progress updates in real-time as each step completes
- [ ] **AC-3.3**: å®æ—¶æ˜¾ç¤ºè¯„ä¼°è¿›åº¦ï¼Œä¸ºæ¯ä¸ªæä¾›å•†æ˜¾ç¤ºè¯¦ç»†çš„ 6 æ­¥è¿›åº¦ï¼Œæ˜¾ç¤ºï¼š
  - æ€»ä½“è¯„ä¼°çŠ¶æ€ï¼ˆè¿›è¡Œä¸­ã€å·²å®Œæˆã€å¤±è´¥ï¼‰å’Œå·²ç”¨æ—¶é—´
  - æ€»ä½“è¿›åº¦æ¡æ˜¾ç¤ºç™¾åˆ†æ¯”å’Œåˆ†æ•°ï¼ˆä¾‹å¦‚ï¼Œ"2 / 4 ä¸ªæä¾›å•†å·²å®Œæˆ"ï¼‰
  - å¯¹äºæ¯ä¸ª LLM æä¾›å•†ï¼š
    - æ­¥éª¤æŒ‡ç¤ºå™¨ï¼ˆä¾‹å¦‚ï¼Œ"æ­¥éª¤ 3/6: æ¨ç†ä¸­"ï¼‰
    - å½“å‰æ­¥éª¤çš„çŠ¶æ€å›¾æ ‡ï¼ˆğŸ“Š æ”¶é›†æ•°æ®ã€ğŸ“ æ•´ç† Promptã€ğŸ§  æ¨ç†ä¸­ã€ğŸ” è§£æå¹¶éªŒè¯ã€ğŸ² æ¨¡æ‹Ÿä¸­ã€ğŸ“ˆ æ‰“åˆ†ä¸­ã€âœ“ å·²å®Œæˆã€âœ— å¤±è´¥ï¼‰
    - æŒ‡ç¤ºå½“å‰æ­¥éª¤çš„çŠ¶æ€æ–‡æœ¬
    - å•ä¸ªè¿›åº¦æ¡ï¼ˆå¯¹äºæ¨¡æ‹Ÿï¼š"æ¨¡æ‹Ÿä¸­: 250/500 æ­¥ (50%)"ï¼‰
    - å·²å®Œæˆ/å¤±è´¥æä¾›å•†çš„å·²ç”¨æ—¶é—´
  - å½“å‰æ­£åœ¨è¯„ä¼°çš„æä¾›å•†é«˜äº®æ˜¾ç¤ºï¼ˆè“è‰²è¾¹æ¡†å’ŒèƒŒæ™¯ï¼‰
  - å½“æ¯ä¸ªæ­¥éª¤å®Œæˆæ—¶å®æ—¶æ›´æ–°è¿›åº¦
- [ ] **AC-3.4**: LLM parameter suggestions are displayed from multiple LLM providers (spread, quantity, leverage). Note: Skew factor is NOT included for Fixed Spread Strategy.
- [ ] **AC-3.4**: æ˜¾ç¤ºæ¥è‡ªå¤šä¸ª LLM æä¾›å•†çš„ LLM å‚æ•°å»ºè®®ï¼ˆä»·å·®ã€æ•°é‡ã€æ æ†ï¼‰ã€‚æ³¨æ„ï¼šå›ºå®šä»·å·®ç­–ç•¥ä¸åŒ…å«å€¾æ–œå› å­ã€‚
- [ ] **AC-3.5**: Intermediate results are displayed as they become available (each LLM provider's result is shown immediately when ready)
- [ ] **AC-3.5**: ä¸­é—´ç»“æœåœ¨å¯ç”¨æ—¶æ˜¾ç¤ºï¼ˆæ¯ä¸ª LLM æä¾›å•†çš„ç»“æœåœ¨å‡†å¤‡å¥½æ—¶ç«‹å³æ˜¾ç¤ºï¼‰
- [ ] **AC-3.6**: Users can apply LLM suggestions to Hyperliquid exchange configuration
- [ ] **AC-3.6**: ç”¨æˆ·å¯ä»¥å°† LLM å»ºè®®åº”ç”¨åˆ° Hyperliquid äº¤æ˜“æ‰€é…ç½®

### Phase 4: Order Management / é˜¶æ®µ 4ï¼šè®¢å•ç®¡ç†

- [ ] **AC-4.1**: Current Hyperliquid orders are displayed in a table
- [ ] **AC-4.1**: å½“å‰ Hyperliquid è®¢å•åœ¨è¡¨æ ¼ä¸­æ˜¾ç¤º
- [ ] **AC-4.2**: Users can place new orders (limit and market)
- [ ] **AC-4.2**: ç”¨æˆ·å¯ä»¥ä¸‹æ–°è®¢å•ï¼ˆé™ä»·å’Œå¸‚ä»·ï¼‰
- [ ] **AC-4.3**: Users can cancel orders (single and bulk)
- [ ] **AC-4.3**: ç”¨æˆ·å¯ä»¥å–æ¶ˆè®¢å•ï¼ˆå•ä¸ªå’Œæ‰¹é‡ï¼‰
- [ ] **AC-4.4**: Order history specific to Hyperliquid is displayed
- [ ] **AC-4.4**: æ˜¾ç¤ºç‰¹å®šäº Hyperliquid çš„è®¢å•å†å²

### Phase 5: Real-time Updates and Error Handling / é˜¶æ®µ 5ï¼šå®æ—¶æ›´æ–°å’Œé”™è¯¯å¤„ç†

- [ ] **AC-5.1**: UI automatically refreshes when positions, balance, or orders change
- [ ] **AC-5.1**: å½“ä»“ä½ã€ä½™é¢æˆ–è®¢å•å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒUI è‡ªåŠ¨åˆ·æ–°
- [ ] **AC-5.2**: Connection status is clearly displayed in page header or status area
- [ ] **AC-5.2**: è¿æ¥çŠ¶æ€åœ¨é¡µé¢æ ‡é¢˜æˆ–çŠ¶æ€åŒºåŸŸä¸­æ¸…æ™°æ˜¾ç¤º
- [ ] **AC-5.3**: Current trading pair is displayed
- [ ] **AC-5.3**: æ˜¾ç¤ºå½“å‰äº¤æ˜“å¯¹
- [ ] **AC-5.4**: Connection errors are displayed with clear bilingual messages
- [ ] **AC-5.4**: è¿æ¥é”™è¯¯ä»¥æ¸…æ™°çš„åŒè¯­æ¶ˆæ¯æ˜¾ç¤º
- [ ] **AC-5.5**: Error messages are displayed when attempting to use features without connection
- [ ] **AC-5.5**: åœ¨æœªè¿æ¥æ—¶å°è¯•ä½¿ç”¨åŠŸèƒ½æ—¶æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯

### Phase 6: Bilingual Support / é˜¶æ®µ 6ï¼šåŒè¯­æ”¯æŒ

- [ ] **AC-6.1**: All UI text and labels are displayed in both English and Chinese
- [ ] **AC-6.1**: æ‰€æœ‰ UI æ–‡æœ¬å’Œæ ‡ç­¾éƒ½ä»¥è‹±æ–‡å’Œä¸­æ–‡æ˜¾ç¤º
- [ ] **AC-6.2**: Error messages are bilingual
- [ ] **AC-6.2**: é”™è¯¯æ¶ˆæ¯æ˜¯åŒè¯­çš„
- [ ] **AC-6.3**: Bilingual format is consistent with rest of application
- [ ] **AC-6.3**: åŒè¯­æ ¼å¼ä¸åº”ç”¨ç¨‹åºçš„å…¶ä½™éƒ¨åˆ†ä¸€è‡´

---

## Technical Design / æŠ€æœ¯è®¾è®¡

### Page Structure / é¡µé¢ç»“æ„

```
HyperliquidTrade.html
â”œâ”€â”€ Header
â”‚   â”œâ”€â”€ Page Title: "Hyperliquid Trading / Hyperliquid äº¤æ˜“"
â”‚   â”œâ”€â”€ Connection Status Indicator
â”‚   â”œâ”€â”€ Current Trading Pair Display
â”‚   â””â”€â”€ Navigation Links (Back to Dashboard, etc.)
â”œâ”€â”€ Strategy Control Panel
â”‚   â”œâ”€â”€ Trading Pair Selector (Hyperliquid-specific)
â”‚   â”œâ”€â”€ Spread Input
â”‚   â”œâ”€â”€ Quantity Input
â”‚   â”œâ”€â”€ Leverage Input
â”‚   â””â”€â”€ Start/Stop Strategy Button
â”‚   â””â”€â”€ Note: Skew factor is NOT included for Fixed Spread Strategy
â”œâ”€â”€ Position and Balance Panel
â”‚   â”œâ”€â”€ Account Balance Section
â”‚   â”‚   â”œâ”€â”€ Available Balance
â”‚   â”‚   â”œâ”€â”€ Total Balance
â”‚   â”‚   â””â”€â”€ Margin Information
â”‚   â”œâ”€â”€ Open Positions Table
â”‚   â”‚   â”œâ”€â”€ Symbol
â”‚   â”‚   â”œâ”€â”€ Side (Long/Short)
â”‚   â”‚   â”œâ”€â”€ Size
â”‚   â”‚   â”œâ”€â”€ Entry Price
â”‚   â”‚   â”œâ”€â”€ Mark Price
â”‚   â”‚   â””â”€â”€ Unrealized PnL
â”‚   â””â”€â”€ PnL Summary
â”‚       â”œâ”€â”€ Unrealized PnL
â”‚       â””â”€â”€ Realized PnL
â”œâ”€â”€ Multi-LLM Evaluation Panel
â”‚   â”œâ”€â”€ Run Evaluation Button
â”‚   â”œâ”€â”€ Evaluation Progress Display
â”‚   â”‚   â”œâ”€â”€ Overall Status Indicator
â”‚   â”‚   â”‚   â”œâ”€â”€ Status Text (e.g., "Evaluation in Progress / è¯„ä¼°è¿›è¡Œä¸­")
â”‚   â”‚   â”‚   â”œâ”€â”€ Status Icon (â³ spinner, âœ“ checkmark, âœ— cross)
â”‚   â”‚   â”‚   â””â”€â”€ Elapsed Time (e.g., "Elapsed: 0m 15s / å·²ç”¨æ—¶é—´: 0åˆ† 15ç§’")
â”‚   â”‚   â”œâ”€â”€ Overall Progress Bar
â”‚   â”‚   â”‚   â”œâ”€â”€ Progress Percentage (e.g., "50%")
â”‚   â”‚   â”‚   â””â”€â”€ Progress Fraction (e.g., "2 / 4 providers completed / 2 / 4 ä¸ªæä¾›å•†å·²å®Œæˆ")
â”‚   â”‚   â””â”€â”€ Provider Status List
â”‚   â”‚       â”œâ”€â”€ Provider Row (for each LLM provider)
â”‚   â”‚       â”‚   â”œâ”€â”€ Step Indicator (e.g., "Step 3/6: Inferring / æ­¥éª¤ 3/6: æ¨ç†ä¸­")
â”‚   â”‚       â”‚   â”œâ”€â”€ Provider Name (e.g., "Claude (Anthropic)")
â”‚   â”‚       â”‚   â”œâ”€â”€ Status Icon
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“Š Collecting Data / æ”¶é›†æ•°æ®
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“ Building Prompt / æ•´ç† Prompt
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ§  Inferring / æ¨ç†ä¸­
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ” Parsing & Validating / è§£æå¹¶éªŒè¯
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ² Simulating / æ¨¡æ‹Ÿä¸­ (with step count: X/500)
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“ˆ Scoring / æ‰“åˆ†ä¸­
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ âœ“ Completed / å·²å®Œæˆ
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ âœ— Failed / å¤±è´¥
â”‚   â”‚       â”‚   â”œâ”€â”€ Status Text (e.g., "LLM inferring... / LLM æ¨ç†ä¸­...")
â”‚   â”‚       â”‚   â”œâ”€â”€ Individual Progress Bar
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ For Simulating: "Simulating: 250/500 steps (50%) / æ¨¡æ‹Ÿä¸­: 250/500 æ­¥ (50%)"
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ For Other Steps: "Progress: 60% / è¿›åº¦: 60%"
â”‚   â”‚       â”‚   â””â”€â”€ Elapsed Time (for completed/failed providers)
â”‚   â”‚       â””â”€â”€ Current Provider Highlight (blue border and background)
â”‚   â”œâ”€â”€ LLM Provider Results Table
â”‚   â”‚   â”œâ”€â”€ Provider Name
â”‚   â”‚   â”œâ”€â”€ Suggested Spread
â”‚   â”‚   â”œâ”€â”€ Suggested Quantity
â”‚   â”‚   â”œâ”€â”€ Suggested Leverage
â”‚   â”‚   â”œâ”€â”€ Status (Completed/In Progress/Failed)
â”‚   â”‚   â””â”€â”€ Apply Button
â”‚   â”‚   â””â”€â”€ Note: Skew factor is NOT included for Fixed Spread Strategy
â”‚   â”œâ”€â”€ Consensus Results (calculated from completed providers)
â”‚   â””â”€â”€ Apply Consensus Button
â””â”€â”€ Order Management Panel
    â”œâ”€â”€ Current Orders Table
    â”‚   â”œâ”€â”€ Order ID
    â”‚   â”œâ”€â”€ Symbol
    â”‚   â”œâ”€â”€ Side
    â”‚   â”œâ”€â”€ Type (Limit/Market)
    â”‚   â”œâ”€â”€ Price
    â”‚   â”œâ”€â”€ Quantity
    â”‚   â”œâ”€â”€ Status
    â”‚   â””â”€â”€ Cancel Button
    â”œâ”€â”€ Place Order Form
    â”‚   â”œâ”€â”€ Symbol Selector
    â”‚   â”œâ”€â”€ Side Selector (Buy/Sell)
    â”‚   â”œâ”€â”€ Type Selector (Limit/Market)
    â”‚   â”œâ”€â”€ Price Input (for Limit orders)
    â”‚   â”œâ”€â”€ Quantity Input
    â”‚   â””â”€â”€ Place Order Button
    â””â”€â”€ Order History Table
```

### API Integration / API é›†æˆ

#### 1. Strategy Control API / ç­–ç•¥æ§åˆ¶ API

**Endpoint**: `POST /api/strategy/control`  
**Request**:
```json
{
  "action": "start|stop",
  "exchange": "hyperliquid",
  "symbol": "string",
  "spread": "float",
  "quantity": "float",
  "leverage": "integer"
}
```

**Response**:
```json
{
  "status": "success|error",
  "message": "string (bilingual)",
  "running": "boolean"
}
```

#### 2. Position and Balance API / ä»“ä½ä¸ä½™é¢ API

**Endpoint**: `GET /api/hyperliquid/balance`  
**Request**: `{}`  
**Response**:
```json
{
  "available": "float",
  "total": "float",
  "margin": {
    "used": "float",
    "available": "float",
    "ratio": "float",
    "liquidation_price": "float"
  }
}
```

**Endpoint**: `GET /api/hyperliquid/positions`  
**Request**: `{}`  
**Response**:
```json
{
  "positions": [
    {
      "symbol": "string",
      "side": "long|short",
      "size": "float",
      "entry_price": "float",
      "mark_price": "float",
      "unrealized_pnl": "float"
    }
  ],
  "unrealized_pnl_total": "float",
  "realized_pnl_total": "float"
}
```

#### 3. LLM Evaluation API / LLM è¯„ä¼° API

**Endpoint**: `POST /api/evaluation/run` (from US-API-004)  
**Request**:
```json
{
  "symbol": "string",
  "exchange": "hyperliquid",
  "simulation_steps": 500
}
```

**Response**: See `contracts/web.json#EvaluationAPI`

**Note / æ³¨æ„**: The evaluation API may return results incrementally as each LLM provider completes. The UI should:
- Poll for progress updates or use WebSocket if available
- Display each provider's status in real-time
- Show intermediate results as they become available
- Update progress indicators continuously

**æ³¨æ„ / æ³¨æ„**: è¯„ä¼° API å¯èƒ½éšç€æ¯ä¸ª LLM æä¾›å•†å®Œæˆè€Œå¢é‡è¿”å›ç»“æœã€‚UI åº”è¯¥ï¼š
- è½®è¯¢è¿›åº¦æ›´æ–°æˆ–ä½¿ç”¨ WebSocketï¼ˆå¦‚æœå¯ç”¨ï¼‰
- å®æ—¶æ˜¾ç¤ºæ¯ä¸ªæä¾›å•†çš„çŠ¶æ€
- åœ¨ä¸­é—´ç»“æœå¯ç”¨æ—¶æ˜¾ç¤º
- æŒç»­æ›´æ–°è¿›åº¦æŒ‡ç¤ºå™¨

**Progress Display Implementation / è¿›åº¦æ˜¾ç¤ºå®ç°**:
```javascript
// Example progress display structure
{
  "evaluation_id": "string",
  "status": "in_progress|completed|failed",
  "providers": [
    {
      "name": "claude",
      "status": "completed|in_progress|pending|failed",
      "progress": 100,  // percentage
      "result": { ... }  // available when status is "completed"
    },
    {
      "name": "gpt-4",
      "status": "in_progress",
      "progress": 50,
      "result": null
    }
  ],
  "overall_progress": 50,  // percentage across all providers
  "completed_count": 1,
  "total_count": 3
}
```

**Endpoint**: `POST /api/evaluation/apply` (from US-API-004)  
**Request**:
```json
{
  "source": "consensus|individual",
  "provider_name": "string (optional)",
  "exchange": "hyperliquid"
}
```

#### 4. Order Management API / è®¢å•ç®¡ç† API

**Endpoint**: `POST /api/hyperliquid/orders`  
**Request**:
```json
{
  "symbol": "string",
  "side": "buy|sell",
  "type": "limit|market",
  "price": "float (for limit orders)",
  "quantity": "float"
}
```

**Endpoint**: `DELETE /api/hyperliquid/orders/{order_id}`  
**Endpoint**: `GET /api/hyperliquid/orders`  
**Endpoint**: `GET /api/hyperliquid/orders/history`

### Real-time Updates / å®æ—¶æ›´æ–°

**Implementation / å®ç°**:
- Use JavaScript `setInterval` for polling (default: 5 seconds)
- ä½¿ç”¨ JavaScript `setInterval` è¿›è¡Œè½®è¯¢ï¼ˆé»˜è®¤ï¼š5 ç§’ï¼‰
- Poll endpoints: `/api/hyperliquid/balance`, `/api/hyperliquid/positions`, `/api/hyperliquid/orders`
- è½®è¯¢ç«¯ç‚¹ï¼š`/api/hyperliquid/balance`ã€`/api/hyperliquid/positions`ã€`/api/hyperliquid/orders`
- Update UI elements when data changes
- å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶æ›´æ–° UI å…ƒç´ 
- Cache data to avoid unnecessary API calls
- ç¼“å­˜æ•°æ®ä»¥é¿å…ä¸å¿…è¦çš„ API è°ƒç”¨

**Future Enhancement / æœªæ¥å¢å¼º**:
- Implement WebSocket support if available
- å¦‚æœå¯ç”¨ï¼Œå®ç° WebSocket æ”¯æŒ

### Error Handling / é”™è¯¯å¤„ç†

**Connection Status Check / è¿æ¥çŠ¶æ€æ£€æŸ¥**:
```javascript
// Before making API calls, check connection status
async function checkHyperliquidConnection() {
  const response = await fetch('/api/hyperliquid/status');
  const data = await response.json();
  if (!data.connected) {
    showError('Hyperliquid is not connected. Please connect first. / Hyperliquid æœªè¿æ¥ã€‚è¯·å…ˆè¿æ¥ã€‚');
    return false;
  }
  return true;
}
```

**API Error Handling / API é”™è¯¯å¤„ç†**:
- Display bilingual error messages from API responses
- æ˜¾ç¤ºæ¥è‡ª API å“åº”çš„åŒè¯­é”™è¯¯æ¶ˆæ¯
- Handle network errors gracefully
- ä¼˜é›…åœ°å¤„ç†ç½‘ç»œé”™è¯¯
- Show loading states during API calls
- åœ¨ API è°ƒç”¨æœŸé—´æ˜¾ç¤ºåŠ è½½çŠ¶æ€

---

## LLM Evaluation Progress Display Requirements / LLM è¯„ä¼°è¿›åº¦æ˜¾ç¤ºè¦æ±‚

### Overview / æ¦‚è¿°

The LLM evaluation progress display must provide real-time, detailed feedback to users about the evaluation process, showing which LLM providers are being evaluated, their current status, and intermediate results as they become available.

LLM è¯„ä¼°è¿›åº¦æ˜¾ç¤ºå¿…é¡»ä¸ºç”¨æˆ·æä¾›å…³äºè¯„ä¼°è¿‡ç¨‹çš„å®æ—¶ã€è¯¦ç»†åé¦ˆï¼Œæ˜¾ç¤ºæ­£åœ¨è¯„ä¼°çš„ LLM æä¾›å•†ã€å®ƒä»¬çš„å½“å‰çŠ¶æ€ä»¥åŠå¯ç”¨æ—¶çš„ä¸­é—´ç»“æœã€‚

---

### UI Components / UI ç»„ä»¶

#### 1. Evaluation Progress Panel / è¯„ä¼°è¿›åº¦é¢æ¿

**Location / ä½ç½®**: Multi-LLM Evaluation Panel, top section  
**Purpose / ç›®çš„**: Display overall evaluation status and progress  
**ç›®çš„**: æ˜¾ç¤ºæ€»ä½“è¯„ä¼°çŠ¶æ€å’Œè¿›åº¦

**Components / ç»„ä»¶**:

1. **Overall Status Indicator / æ€»ä½“çŠ¶æ€æŒ‡ç¤ºå™¨**
   - **Text / æ–‡æœ¬**: 
     - "Evaluation in Progress / è¯„ä¼°è¿›è¡Œä¸­" (when running)
     - "Evaluation Completed / è¯„ä¼°å·²å®Œæˆ" (when all providers complete)
     - "Evaluation Failed / è¯„ä¼°å¤±è´¥" (when all providers fail)
   - **Icon / å›¾æ ‡**: 
     - â³ Spinner (in progress)
     - âœ“ Checkmark (completed)
     - âœ— Cross (failed)
   - **Color / é¢œè‰²**:
     - Blue (`#3b82f6`) for in progress
     - Green (`#22c55e`) for completed
     - Red (`#ef4444`) for failed

2. **Overall Progress Bar / æ€»ä½“è¿›åº¦æ¡**
   - **Type / ç±»å‹**: Horizontal progress bar
   - **Display / æ˜¾ç¤º**: 
     - Percentage: "50%" (e.g., 2 of 4 providers completed)
     - Fraction: "2 / 4 providers completed / 2 / 4 ä¸ªæä¾›å•†å·²å®Œæˆ"
   - **Visual / è§†è§‰**:
     - Filled portion: Blue (`#3b82f6`)
     - Unfilled portion: Light gray (`#e5e7eb`)
     - Height: 8px
     - Border radius: 4px
   - **Update Frequency / æ›´æ–°é¢‘ç‡**: Real-time as each provider completes

3. **Elapsed Time Display / å·²ç”¨æ—¶é—´æ˜¾ç¤º**
   - **Format / æ ¼å¼**: "Elapsed: 0m 15s / å·²ç”¨æ—¶é—´: 0åˆ† 15ç§’"
   - **Update Frequency / æ›´æ–°é¢‘ç‡**: Every second
   - **Location / ä½ç½®**: Next to overall progress bar

---

#### 2. Provider Status List / æä¾›å•†çŠ¶æ€åˆ—è¡¨

**Location / ä½ç½®**: Multi-LLM Evaluation Panel, below overall progress  
**Purpose / ç›®çš„**: Display individual LLM provider status  
**ç›®çš„**: æ˜¾ç¤ºå„ä¸ª LLM æä¾›å•†çš„çŠ¶æ€

**Layout / å¸ƒå±€**: Vertical list, one row per provider

**Each Provider Row Contains / æ¯ä¸ªæä¾›å•†è¡ŒåŒ…å«**:

0. **Step Indicator / æ­¥éª¤æŒ‡ç¤ºå™¨** (New)
   - **Display / æ˜¾ç¤º**: Show current evaluation step (1-6) and step name
   - **Format / æ ¼å¼**: "Step 3/6: Inferring / æ­¥éª¤ 3/6: æ¨ç†ä¸­"
   - **Visual / è§†è§‰**: Small badge or text next to provider name
   - **Steps / æ­¥éª¤**:
     1. Collecting Data / æ”¶é›†æ•°æ®
     2. Building Prompt / æ•´ç† Prompt
     3. Inferring / æ¨ç†ä¸­
     4. Parsing & Validating / è§£æå¹¶éªŒè¯
     5. Simulating / æ¨¡æ‹Ÿä¸­ (with step count: X/500)
     6. Scoring / æ‰“åˆ†ä¸­

1. **Provider Name / æä¾›å•†åç§°**
   - **Display / æ˜¾ç¤º**: 
     - "Claude (Anthropic) / Claude (Anthropic)"
     - "GPT-4 (OpenAI) / GPT-4 (OpenAI)"
     - "Gemini (Google) / Gemini (Google)"
   - **Font / å­—ä½“**: Bold, 14px
   - **Color / é¢œè‰²**: `#1f2937` (Dark Gray)

2. **Status Icon / çŠ¶æ€å›¾æ ‡**
   - **â¸ Pending / ç­‰å¾…ä¸­**: 
     - Icon: â¸ (pause icon) or â³ (hourglass)
     - Color: Gray (`#9ca3af`)
     - Tooltip: "Waiting to start / ç­‰å¾…å¼€å§‹"
   - **ğŸ“Š Collecting Data / æ”¶é›†æ•°æ®**: 
     - Icon: ğŸ“Š (chart icon) or animated data collection icon
     - Color: Blue (`#3b82f6`)
     - Tooltip: "Collecting market data... / æ­£åœ¨æ”¶é›†å¸‚åœºæ•°æ®..."
     - Animation: Pulsing or data flow animation
   - **ğŸ“ Building Prompt / æ•´ç† Prompt**: 
     - Icon: ğŸ“ (document with pencil) or animated writing icon
     - Color: Blue (`#3b82f6`)
     - Tooltip: "Building prompt... / æ­£åœ¨æ•´ç†æç¤º..."
     - Animation: Writing animation
   - **ğŸ§  Inferring / æ¨ç†ä¸­**: 
     - Icon: ğŸ§  (brain icon) or animated thinking icon
     - Color: Blue (`#3b82f6`)
     - Tooltip: "LLM inferring... / LLM æ¨ç†ä¸­..."
     - Animation: Pulsing brain or thinking animation
   - **ğŸ” Parsing & Validating / è§£æå¹¶éªŒè¯**: 
     - Icon: ğŸ” (magnifying glass) or animated parsing icon
     - Color: Blue (`#3b82f6`)
     - Tooltip: "Parsing response... / æ­£åœ¨è§£æå“åº”..."
     - Animation: Scanning or parsing animation
   - **ğŸ² Simulating / æ¨¡æ‹Ÿä¸­**: 
     - Icon: ğŸ² (dice) or animated simulation icon
     - Color: Blue (`#3b82f6`)
     - Tooltip: "Simulating (X/500 steps) / æ¨¡æ‹Ÿä¸­ (X/500 æ­¥)"
     - Animation: Running simulation animation with step counter
   - **ğŸ“ˆ Scoring / æ‰“åˆ†ä¸­**: 
     - Icon: ğŸ“ˆ (chart) or animated scoring icon
     - Color: Blue (`#3b82f6`)
     - Tooltip: "Calculating score... / æ­£åœ¨è®¡ç®—å¾—åˆ†..."
     - Animation: Calculating animation
   - **âœ“ Completed / å·²å®Œæˆ**: 
     - Icon: âœ“ (checkmark)
     - Color: Green (`#22c55e`)
     - Tooltip: "Completed / å·²å®Œæˆ"
   - **âœ— Failed / å¤±è´¥**: 
     - Icon: âœ— (cross)
     - Color: Red (`#ef4444`)
     - Tooltip: "Failed: {error_message} / å¤±è´¥: {é”™è¯¯æ¶ˆæ¯}"

3. **Status Text / çŠ¶æ€æ–‡æœ¬**
   - **Pending / ç­‰å¾…ä¸­**: "Pending / ç­‰å¾…ä¸­"
   - **Collecting Data / æ”¶é›†æ•°æ®**: "Collecting market data... / æ­£åœ¨æ”¶é›†å¸‚åœºæ•°æ®..."
   - **Building Prompt / æ•´ç† Prompt**: "Building prompt... / æ­£åœ¨æ•´ç†æç¤º..."
   - **Inferring / æ¨ç†ä¸­**: "LLM inferring... / LLM æ¨ç†ä¸­..." + provider name (e.g., "Claude inferring... / Claude æ¨ç†ä¸­...")
   - **Parsing & Validating / è§£æå¹¶éªŒè¯**: "Parsing response... / æ­£åœ¨è§£æå“åº”..."
   - **Simulating / æ¨¡æ‹Ÿä¸­**: "Simulating (X/500 steps) / æ¨¡æ‹Ÿä¸­ (X/500 æ­¥)" with progress percentage
   - **Scoring / æ‰“åˆ†ä¸­**: "Calculating score... / æ­£åœ¨è®¡ç®—å¾—åˆ†..."
   - **Completed / å·²å®Œæˆ**: "Completed / å·²å®Œæˆ" + timestamp (e.g., "at 10:23:45 / äº 10:23:45")
   - **Failed / å¤±è´¥**: "Failed: {error_message} / å¤±è´¥: {é”™è¯¯æ¶ˆæ¯}"

4. **Individual Progress Indicator / å•ä¸ªè¿›åº¦æŒ‡ç¤ºå™¨**
   - **Type / ç±»å‹**: Small progress bar or percentage
   - **Display / æ˜¾ç¤º**: When provider is in any active state (collecting_data, building_prompt, inferring, parsing, simulating, scoring)
   - **Format / æ ¼å¼**: 
     - For simulating: "Simulating: 250/500 steps (50%) / æ¨¡æ‹Ÿä¸­: 250/500 æ­¥ (50%)"
     - For other states: "Progress: 60% / è¿›åº¦: 60%" (if available)
   - **Visual / è§†è§‰**: Mini progress bar (height: 4px)
   - **Step Indicator / æ­¥éª¤æŒ‡ç¤ºå™¨**: Show current step name (e.g., "Step 3/6: Inferring / æ­¥éª¤ 3/6: æ¨ç†ä¸­")

5. **Elapsed Time / å·²ç”¨æ—¶é—´** (for completed/failed providers)
   - **Format / æ ¼å¼**: "Duration: 12s / è€—æ—¶: 12ç§’"
   - **Color / é¢œè‰²**: Gray (`#6b7280`)

**Row Styling / è¡Œæ ·å¼**:
- Background: White (`#ffffff`)
- Border: 1px solid `#e5e7eb` (Light Gray)
- Padding: 12px 16px
- Border radius: 8px
- Margin: 8px 0
- Hover effect: Light gray background (`#f9fafb`)

---

#### 3. Current Provider Highlight / å½“å‰æä¾›å•†é«˜äº®

**Purpose / ç›®çš„**: Visually emphasize which provider is currently being evaluated  
**ç›®çš„**: è§†è§‰ä¸Šå¼ºè°ƒå½“å‰æ­£åœ¨è¯„ä¼°çš„æä¾›å•†

**Visual Indicators / è§†è§‰æŒ‡ç¤ºå™¨**:
- **Border / è¾¹æ¡†**: 2px solid Blue (`#3b82f6`) for active provider row
- **Background / èƒŒæ™¯**: Light blue tint (`#eff6ff`) for active provider row
- **Pulse Animation / è„‰å†²åŠ¨ç”»**: Subtle pulsing border or background (optional)

---

#### 4. Results Display Area / ç»“æœæ˜¾ç¤ºåŒºåŸŸ

**Location / ä½ç½®**: Below provider status list  
**Purpose / ç›®çš„**: Display intermediate results as they become available  
**ç›®çš„**: åœ¨ä¸­é—´ç»“æœå¯ç”¨æ—¶æ˜¾ç¤º

**Behavior / è¡Œä¸º**:
- **Progressive Display / æ¸è¿›å¼æ˜¾ç¤º**: 
  - Results appear immediately when each provider completes
  - å½“æ¯ä¸ªæä¾›å•†å®Œæˆæ—¶ç«‹å³æ˜¾ç¤ºç»“æœ
  - Each provider's result appears in a separate row/table entry
  - æ¯ä¸ªæä¾›å•†çš„ç»“æœæ˜¾ç¤ºåœ¨å•ç‹¬çš„è¡Œ/è¡¨æ ¼æ¡ç›®ä¸­
- **Result Table / ç»“æœè¡¨æ ¼**:
  - Columns: Provider Name, Spread, Quantity, Leverage, Score, Status, Apply Button
  - åˆ—ï¼šæä¾›å•†åç§°ã€ä»·å·®ã€æ•°é‡ã€æ æ†ã€å¾—åˆ†ã€çŠ¶æ€ã€åº”ç”¨æŒ‰é’®
  - Rows are added dynamically as providers complete
  - å½“æä¾›å•†å®Œæˆæ—¶åŠ¨æ€æ·»åŠ è¡Œ
  - Completed providers show full result data
  - å·²å®Œæˆçš„æä¾›å•†æ˜¾ç¤ºå®Œæ•´ç»“æœæ•°æ®
  - In-progress providers show "Evaluating... / æ­£åœ¨è¯„ä¼°..."
  - è¿›è¡Œä¸­çš„æä¾›å•†æ˜¾ç¤º"æ­£åœ¨è¯„ä¼°..."
  - Pending providers show "Pending / ç­‰å¾…ä¸­"
  - ç­‰å¾…ä¸­çš„æä¾›å•†æ˜¾ç¤º"ç­‰å¾…ä¸­"

---

### Status Definitions / çŠ¶æ€å®šä¹‰

#### Provider Status / æä¾›å•†çŠ¶æ€

| Status / çŠ¶æ€ | English / è‹±æ–‡ | Chinese / ä¸­æ–‡ | Icon / å›¾æ ‡ | Color / é¢œè‰² | Description / æè¿° |
|--------------|---------------|---------------|------------|-------------|------------------|
| **pending** | Pending | ç­‰å¾…ä¸­ | â¸ | Gray (`#9ca3af`) | Provider has not started evaluation yet |
| **pending** | ç­‰å¾…ä¸­ | ç­‰å¾…ä¸­ | â¸ | Gray (`#9ca3af`) | æä¾›å•†å°šæœªå¼€å§‹è¯„ä¼° |
| **collecting_data** | Collecting Data | æ”¶é›†æ•°æ® | ğŸ“Š | Blue (`#3b82f6`) | Collecting market context data (price, volatility, position, funding, account, history) |
| **collecting_data** | æ”¶é›†æ•°æ® | æ”¶é›†æ•°æ® | ğŸ“Š | Blue (`#3b82f6`) | æ”¶é›†å¸‚åœºä¸Šä¸‹æ–‡æ•°æ®ï¼ˆä»·æ ¼ã€æ³¢åŠ¨ç‡ã€ä»“ä½ã€èµ„é‡‘è´¹ç‡ã€è´¦æˆ·ã€å†å²ï¼‰ |
| **building_prompt** | Building Prompt | æ•´ç† Prompt | ğŸ“ | Blue (`#3b82f6`) | Constructing prompt with market data, role definition, format, and constraints |
| **building_prompt** | æ•´ç† Prompt | æ•´ç† Prompt | ğŸ“ | Blue (`#3b82f6`) | æ„å»ºåŒ…å«å¸‚åœºæ•°æ®ã€è§’è‰²å®šä¹‰ã€æ ¼å¼å’Œçº¦æŸçš„æç¤º |
| **inferring** | Inferring | æ¨ç†ä¸­ | ğŸ§  | Blue (`#3b82f6`) | LLM is processing the prompt and generating strategy parameters |
| **inferring** | æ¨ç†ä¸­ | æ¨ç†ä¸­ | ğŸ§  | Blue (`#3b82f6`) | LLM æ­£åœ¨å¤„ç†æç¤ºå¹¶ç”Ÿæˆç­–ç•¥å‚æ•° |
| **parsing** | Parsing & Validating | è§£æå¹¶éªŒè¯ | ğŸ” | Blue (`#3b82f6`) | Parsing LLM response JSON and validating parameters |
| **parsing** | è§£æå¹¶éªŒè¯ | è§£æå¹¶éªŒè¯ | ğŸ” | Blue (`#3b82f6`) | è§£æ LLM å“åº” JSON å¹¶éªŒè¯å‚æ•° |
| **simulating** | Simulating | æ¨¡æ‹Ÿä¸­ | ğŸ² | Blue (`#3b82f6`) | Running simulation sandbox (500 steps) with strategy parameters |
| **simulating** | æ¨¡æ‹Ÿä¸­ | æ¨¡æ‹Ÿä¸­ | ğŸ² | Blue (`#3b82f6`) | ä½¿ç”¨ç­–ç•¥å‚æ•°è¿è¡Œæ¨¡æ‹Ÿæ²™ç›’ï¼ˆ500 æ­¥ï¼‰ |
| **scoring** | Scoring | æ‰“åˆ†ä¸­ | ğŸ“ˆ | Blue (`#3b82f6`) | Calculating score (PnL, Sharpe, WinRate, Confidence) and ranking |
| **scoring** | æ‰“åˆ†ä¸­ | æ‰“åˆ†ä¸­ | ğŸ“ˆ | Blue (`#3b82f6`) | è®¡ç®—å¾—åˆ†ï¼ˆç›ˆäºã€å¤æ™®æ¯”ç‡ã€èƒœç‡ã€ç½®ä¿¡åº¦ï¼‰å¹¶æ’å |
| **completed** | Completed | å·²å®Œæˆ | âœ“ | Green (`#22c55e`) | Provider has completed evaluation successfully |
| **completed** | å·²å®Œæˆ | å·²å®Œæˆ | âœ“ | Green (`#22c55e`) | æä¾›å•†å·²æˆåŠŸå®Œæˆè¯„ä¼° |
| **failed** | Failed | å¤±è´¥ | âœ— | Red (`#ef4444`) | Provider evaluation failed with error |
| **failed** | å¤±è´¥ | å¤±è´¥ | âœ— | Red (`#ef4444`) | æä¾›å•†è¯„ä¼°å¤±è´¥å¹¶å‡ºç°é”™è¯¯ |

#### Overall Status / æ€»ä½“çŠ¶æ€

| Status / çŠ¶æ€ | English / è‹±æ–‡ | Chinese / ä¸­æ–‡ | Description / æè¿° |
|--------------|---------------|---------------|------------------|
| **not_started** | Not Started | æœªå¼€å§‹ | No evaluation has been initiated |
| **not_started** | æœªå¼€å§‹ | æœªå¼€å§‹ | å°šæœªå¯åŠ¨è¯„ä¼° |
| **in_progress** | In Progress | è¿›è¡Œä¸­ | At least one provider is evaluating |
| **in_progress** | è¿›è¡Œä¸­ | è¿›è¡Œä¸­ | è‡³å°‘æœ‰ä¸€ä¸ªæä¾›å•†æ­£åœ¨è¯„ä¼° |
| **completed** | Completed | å·²å®Œæˆ | All providers have completed (successfully or failed) |
| **completed** | å·²å®Œæˆ | å·²å®Œæˆ | æ‰€æœ‰æä¾›å•†å·²å®Œæˆï¼ˆæˆåŠŸæˆ–å¤±è´¥ï¼‰ |
| **partially_completed** | Partially Completed | éƒ¨åˆ†å®Œæˆ | Some providers completed, some still in progress |
| **partially_completed** | éƒ¨åˆ†å®Œæˆ | éƒ¨åˆ†å®Œæˆ | éƒ¨åˆ†æä¾›å•†å·²å®Œæˆï¼Œéƒ¨åˆ†ä»åœ¨è¿›è¡Œä¸­ |

---

### Progress Update Mechanism / è¿›åº¦æ›´æ–°æœºåˆ¶

#### 1. API Polling / API è½®è¯¢

**Endpoint / ç«¯ç‚¹**: `GET /api/evaluation/status/{evaluation_id}` (to be implemented)  
**Alternative / æ›¿ä»£æ–¹æ¡ˆ**: Poll `POST /api/evaluation/run` with same parameters to check status

**Polling Frequency / è½®è¯¢é¢‘ç‡**:
- **During Evaluation / è¯„ä¼°æœŸé—´**: Every 1-2 seconds
- **After Completion / å®Œæˆå**: Stop polling
- **On Error / é”™è¯¯æ—¶**: Continue polling for 30 seconds, then stop

**Polling Implementation / è½®è¯¢å®ç°**:
```javascript
let pollingInterval = null;

async function pollEvaluationStatus(evaluationId) {
  pollingInterval = setInterval(async () => {
    try {
      const response = await fetch(`/api/evaluation/status/${evaluationId}`);
      const data = await response.json();
      
      // Update UI with progress data
      updateProgressDisplay(data);
      
      // Stop polling if evaluation is complete
      if (data.status === 'completed' || data.status === 'failed') {
        clearInterval(pollingInterval);
      }
    } catch (error) {
      console.error('Failed to poll evaluation status:', error);
      // Continue polling on error
    }
  }, 1500); // Poll every 1.5 seconds
}
```

#### 2. Step-by-Step Progress Updates / é€æ­¥è¿›åº¦æ›´æ–°

**Evaluation Steps / è¯„ä¼°æ­¥éª¤**:
The evaluation process consists of 6 distinct steps that should be displayed to users:
è¯„ä¼°è¿‡ç¨‹åŒ…å« 6 ä¸ªä¸åŒçš„æ­¥éª¤ï¼Œåº”å‘ç”¨æˆ·æ˜¾ç¤ºï¼š

1. **Collecting Data / æ”¶é›†æ•°æ®** (Step 1/6)
   - Collect market context: price, volatility, position, funding, account, history
   - æ”¶é›†å¸‚åœºä¸Šä¸‹æ–‡ï¼šä»·æ ¼ã€æ³¢åŠ¨ç‡ã€ä»“ä½ã€èµ„é‡‘è´¹ç‡ã€è´¦æˆ·ã€å†å²
   - Duration: ~0.5 seconds
   - æŒç»­æ—¶é—´ï¼šçº¦ 0.5 ç§’

2. **Building Prompt / æ•´ç† Prompt** (Step 2/6)
   - Construct prompt with role, format, constraints, and market data
   - æ„å»ºåŒ…å«è§’è‰²ã€æ ¼å¼ã€çº¦æŸå’Œå¸‚åœºæ•°æ®çš„æç¤º
   - Duration: ~0.3 seconds
   - æŒç»­æ—¶é—´ï¼šçº¦ 0.3 ç§’

3. **Inferring / æ¨ç†ä¸­** (Step 3/6)
   - LLM processes prompt and generates strategy parameters
   - LLM å¤„ç†æç¤ºå¹¶ç”Ÿæˆç­–ç•¥å‚æ•°
   - Duration: ~3-5 seconds (varies by provider)
   - æŒç»­æ—¶é—´ï¼šçº¦ 3-5 ç§’ï¼ˆå› æä¾›å•†è€Œå¼‚ï¼‰

4. **Parsing & Validating / è§£æå¹¶éªŒè¯** (Step 4/6)
   - Parse LLM JSON response and validate parameters
   - è§£æ LLM JSON å“åº”å¹¶éªŒè¯å‚æ•°
   - Duration: ~0.2 seconds
   - æŒç»­æ—¶é—´ï¼šçº¦ 0.2 ç§’

5. **Simulating / æ¨¡æ‹Ÿä¸­** (Step 5/6)
   - Run simulation sandbox with 500 steps
   - è¿è¡Œ 500 æ­¥çš„æ¨¡æ‹Ÿæ²™ç›’
   - Duration: ~2-3 seconds
   - æŒç»­æ—¶é—´ï¼šçº¦ 2-3 ç§’
   - **Sub-progress / å­è¿›åº¦**: Show step count (e.g., "250/500 steps / 250/500 æ­¥")
   - **å­è¿›åº¦**: æ˜¾ç¤ºæ­¥æ•°ï¼ˆä¾‹å¦‚ï¼Œ"250/500 æ­¥"ï¼‰

6. **Scoring / æ‰“åˆ†ä¸­** (Step 6/6)
   - Calculate score (PnL 40%, Sharpe 30%, WinRate 20%, Confidence 10%) and rank
   - è®¡ç®—å¾—åˆ†ï¼ˆç›ˆäº 40%ï¼Œå¤æ™®æ¯”ç‡ 30%ï¼Œèƒœç‡ 20%ï¼Œç½®ä¿¡åº¦ 10%ï¼‰å¹¶æ’å
   - Duration: ~0.3 seconds
   - æŒç»­æ—¶é—´ï¼šçº¦ 0.3 ç§’

**UI Display / UI æ˜¾ç¤º**:
- Show current step number and name: "Step 3/6: Inferring / æ­¥éª¤ 3/6: æ¨ç†ä¸­"
- æ˜¾ç¤ºå½“å‰æ­¥éª¤ç¼–å·å’Œåç§°ï¼š"æ­¥éª¤ 3/6: æ¨ç†ä¸­"
- Update step indicator as evaluation progresses
- éšç€è¯„ä¼°è¿›å±•æ›´æ–°æ­¥éª¤æŒ‡ç¤ºå™¨
- For simulating step, show sub-progress: "Simulating: 250/500 steps (50%) / æ¨¡æ‹Ÿä¸­: 250/500 æ­¥ (50%)"
- å¯¹äºæ¨¡æ‹Ÿæ­¥éª¤ï¼Œæ˜¾ç¤ºå­è¿›åº¦ï¼š"æ¨¡æ‹Ÿä¸­: 250/500 æ­¥ (50%)"

#### 3. WebSocket Support (Future Enhancement) / WebSocket æ”¯æŒï¼ˆæœªæ¥å¢å¼ºï¼‰

**If Available / å¦‚æœå¯ç”¨**:
- Use WebSocket connection for real-time updates
- ä½¿ç”¨ WebSocket è¿æ¥è¿›è¡Œå®æ—¶æ›´æ–°
- Server pushes progress updates as they occur (including step changes)
- æœåŠ¡å™¨åœ¨è¿›åº¦æ›´æ–°å‘ç”Ÿæ—¶æ¨é€æ›´æ–°ï¼ˆåŒ…æ‹¬æ­¥éª¤æ›´æ”¹ï¼‰
- More efficient than polling
- æ¯”è½®è¯¢æ›´é«˜æ•ˆ

---

### Progress Data Structure / è¿›åº¦æ•°æ®ç»“æ„

#### API Response Format / API å“åº”æ ¼å¼

```json
{
  "evaluation_id": "eval_1234567890",
  "status": "in_progress|completed|failed",
  "overall_progress": 50,
  "started_at": "2025-12-04T10:23:15Z",
  "elapsed_seconds": 12,
  "providers": [
    {
      "name": "claude",
      "display_name": "Claude (Anthropic)",
      "status": "completed",
      "current_step": 6,
      "current_step_name": "scoring",
      "step_progress": {
        "step": 6,
        "step_name": "scoring",
        "step_progress_percent": 100,
        "sub_progress": null
      },
      "overall_progress": 100,
      "started_at": "2025-12-04T10:23:15Z",
      "completed_at": "2025-12-04T10:23:22Z",
      "duration_seconds": 7,
      "step_durations": {
        "collecting_data": 0.5,
        "building_prompt": 0.3,
        "inferring": 3.2,
        "parsing": 0.2,
        "simulating": 2.5,
        "scoring": 0.3
      },
      "result": {
        "spread": 0.0015,
        "quantity": 0.2,
        "leverage": 5,
        "score": 85.5,
        "reasoning": "..."
      },
      "error": null
    },
    {
      "name": "gpt-4",
      "display_name": "GPT-4 (OpenAI)",
      "status": "simulating",
      "current_step": 5,
      "current_step_name": "simulating",
      "step_progress": {
        "step": 5,
        "step_name": "simulating",
        "step_progress_percent": 50,
        "sub_progress": {
          "current_step": 250,
          "total_steps": 500,
          "progress_percent": 50
        }
      },
      "overall_progress": 60,
      "started_at": "2025-12-04T10:23:16Z",
      "completed_at": null,
      "duration_seconds": 8,
      "step_durations": {
        "collecting_data": 0.5,
        "building_prompt": 0.3,
        "inferring": 4.0,
        "parsing": 0.2,
        "simulating": 3.0,
        "scoring": null
      },
      "result": null,
      "error": null
    },
    {
      "name": "gemini",
      "display_name": "Gemini (Google)",
      "status": "pending",
      "current_step": 0,
      "current_step_name": "pending",
      "step_progress": null,
      "overall_progress": 0,
      "started_at": null,
      "completed_at": null,
      "duration_seconds": null,
      "step_durations": null,
      "result": null,
      "error": null
    }
  ],
  "completed_count": 1,
  "total_count": 3,
  "failed_count": 0
}
```

---

### Visual Feedback Requirements / è§†è§‰åé¦ˆè¦æ±‚

#### 1. Animations / åŠ¨ç”»

- **Spinner / æ—‹è½¬å™¨**: 
  - Rotating animation for "in_progress" status
  - è¿›è¡Œä¸­çŠ¶æ€çš„æ—‹è½¬åŠ¨ç”»
  - Rotation speed: 1 rotation per second
  - æ—‹è½¬é€Ÿåº¦ï¼šæ¯ç§’ 1 åœˆ
  - Smooth CSS animation
  - æµç•…çš„ CSS åŠ¨ç”»

- **Progress Bar / è¿›åº¦æ¡**: 
  - Smooth width transition when progress updates
  - è¿›åº¦æ›´æ–°æ—¶å¹³æ»‘çš„å®½åº¦è¿‡æ¸¡
  - Transition duration: 300ms
  - è¿‡æ¸¡æŒç»­æ—¶é—´ï¼š300 æ¯«ç§’

- **Row Appearance / è¡Œ appearance**: 
  - Fade-in animation when new result appears
  - æ–°ç»“æœå‡ºç°æ—¶çš„æ·¡å…¥åŠ¨ç”»
  - Duration: 400ms
  - æŒç»­æ—¶é—´ï¼š400 æ¯«ç§’

#### 2. Color Coding / é¢œè‰²ç¼–ç 

- **In Progress / è¿›è¡Œä¸­**: Blue (`#3b82f6`)
- **Completed / å·²å®Œæˆ**: Green (`#22c55e`)
- **Failed / å¤±è´¥**: Red (`#ef4444`)
- **Pending / ç­‰å¾…ä¸­**: Gray (`#9ca3af`)

#### 3. Icons / å›¾æ ‡

- Use consistent icon set (Unicode or icon font)
- ä½¿ç”¨ä¸€è‡´çš„å›¾æ ‡é›†ï¼ˆUnicode æˆ–å›¾æ ‡å­—ä½“ï¼‰
- Icons should be clearly visible (minimum 16px)
- å›¾æ ‡åº”æ¸…æ™°å¯è§ï¼ˆæœ€å° 16pxï¼‰
- Icons should match status colors
- å›¾æ ‡åº”ä¸çŠ¶æ€é¢œè‰²åŒ¹é…

---

### User Interaction / ç”¨æˆ·äº¤äº’

#### 1. During Evaluation / è¯„ä¼°æœŸé—´

- **Cancel Button / å–æ¶ˆæŒ‰é’®**: 
  - Allow users to cancel ongoing evaluation
  - å…è®¸ç”¨æˆ·å–æ¶ˆæ­£åœ¨è¿›è¡Œçš„è¯„ä¼°
  - Show confirmation dialog before canceling
  - å–æ¶ˆå‰æ˜¾ç¤ºç¡®è®¤å¯¹è¯æ¡†
  - Location: Top of evaluation panel
  - ä½ç½®ï¼šè¯„ä¼°é¢æ¿é¡¶éƒ¨

- **Pause/Resume / æš‚åœ/æ¢å¤**: 
  - Not applicable (evaluation runs to completion)
  - ä¸é€‚ç”¨ï¼ˆè¯„ä¼°è¿è¡Œè‡³å®Œæˆï¼‰

#### 2. After Completion / å®Œæˆå

- **View Details / æŸ¥çœ‹è¯¦æƒ…**: 
  - Click on provider row to view detailed result
  - ç‚¹å‡»æä¾›å•†è¡Œä»¥æŸ¥çœ‹è¯¦ç»†ç»“æœ
  - Show modal or expandable section with full reasoning
  - æ˜¾ç¤ºåŒ…å«å®Œæ•´æ¨ç†çš„æ¨¡æ€æ¡†æˆ–å¯å±•å¼€éƒ¨åˆ†

- **Apply Results / åº”ç”¨ç»“æœ**: 
  - Apply button for each completed provider
  - æ¯ä¸ªå·²å®Œæˆçš„æä¾›å•†çš„åº”ç”¨æŒ‰é’®
  - Apply consensus button when all providers complete
  - å½“æ‰€æœ‰æä¾›å•†å®Œæˆæ—¶æ˜¾ç¤ºåº”ç”¨å…±è¯†æŒ‰é’®

---

### Error Handling / é”™è¯¯å¤„ç†

#### Provider Failure / æä¾›å•†å¤±è´¥

- **Display / æ˜¾ç¤º**: 
  - Show error icon (âœ—) in provider row
  - åœ¨æä¾›å•†è¡Œä¸­æ˜¾ç¤ºé”™è¯¯å›¾æ ‡ï¼ˆâœ—ï¼‰
  - Display error message in status text
  - åœ¨çŠ¶æ€æ–‡æœ¬ä¸­æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
  - Error message should be bilingual
  - é”™è¯¯æ¶ˆæ¯åº”ä¸ºåŒè¯­

- **Behavior / è¡Œä¸º**: 
  - Failed providers do not block other providers
  - å¤±è´¥çš„æä¾›å•†ä¸ä¼šé˜»æ­¢å…¶ä»–æä¾›å•†
  - Evaluation continues with remaining providers
  - è¯„ä¼°ç»§ç»­ä½¿ç”¨å‰©ä½™çš„æä¾›å•†
  - Overall status shows "Partially Completed" if some succeed
  - å¦‚æœéƒ¨åˆ†æˆåŠŸï¼Œæ€»ä½“çŠ¶æ€æ˜¾ç¤º"éƒ¨åˆ†å®Œæˆ"

#### Network Errors / ç½‘ç»œé”™è¯¯

- **Display / æ˜¾ç¤º**: 
  - Show warning message: "Connection lost. Retrying... / è¿æ¥ä¸¢å¤±ã€‚æ­£åœ¨é‡è¯•..."
  - æ˜¾ç¤ºè­¦å‘Šæ¶ˆæ¯ï¼š"è¿æ¥ä¸¢å¤±ã€‚æ­£åœ¨é‡è¯•..."
  - Continue polling with exponential backoff
  - ä½¿ç”¨æŒ‡æ•°é€€é¿ç»§ç»­è½®è¯¢

- **Recovery / æ¢å¤**: 
  - Automatically resume when connection restored
  - è¿æ¥æ¢å¤æ—¶è‡ªåŠ¨æ¢å¤
  - Update UI with latest progress
  - ä½¿ç”¨æœ€æ–°è¿›åº¦æ›´æ–° UI

---

### Accessibility / å¯è®¿é—®æ€§

- **Screen Reader Support / å±å¹•é˜…è¯»å™¨æ”¯æŒ**: 
  - Provide ARIA labels for all status indicators
  - ä¸ºæ‰€æœ‰çŠ¶æ€æŒ‡ç¤ºå™¨æä¾› ARIA æ ‡ç­¾
  - Announce status changes to screen readers
  - å‘å±å¹•é˜…è¯»å™¨å®£å¸ƒçŠ¶æ€æ›´æ”¹

- **Keyboard Navigation / é”®ç›˜å¯¼èˆª**: 
  - All interactive elements should be keyboard accessible
  - æ‰€æœ‰äº¤äº’å…ƒç´ åº”å¯é€šè¿‡é”®ç›˜è®¿é—®
  - Tab order should be logical
  - Tab é¡ºåºåº”åˆç†

- **Color Contrast / é¢œè‰²å¯¹æ¯”**: 
  - Ensure sufficient contrast for all text and icons
  - ç¡®ä¿æ‰€æœ‰æ–‡æœ¬å’Œå›¾æ ‡çš„å¯¹æ¯”åº¦è¶³å¤Ÿ
  - WCAG AA compliance (4.5:1 for normal text)
  - WCAG AA åˆè§„æ€§ï¼ˆæ­£å¸¸æ–‡æœ¬ 4.5:1ï¼‰

---

### Performance Requirements / æ€§èƒ½è¦æ±‚

- **Update Frequency / æ›´æ–°é¢‘ç‡**: 
  - UI updates should not cause noticeable lag
  - UI æ›´æ–°ä¸åº”å¯¼è‡´æ˜æ˜¾çš„å»¶è¿Ÿ
  - Use requestAnimationFrame for smooth animations
  - ä½¿ç”¨ requestAnimationFrame å®ç°æµç•…åŠ¨ç”»

- **Polling Efficiency / è½®è¯¢æ•ˆç‡**: 
  - Stop polling when evaluation completes
  - è¯„ä¼°å®Œæˆæ—¶åœæ­¢è½®è¯¢
  - Reduce polling frequency if no changes detected
  - å¦‚æœæœªæ£€æµ‹åˆ°æ›´æ”¹ï¼Œé™ä½è½®è¯¢é¢‘ç‡

- **Memory Management / å†…å­˜ç®¡ç†**: 
  - Clean up intervals on page unload
  - é¡µé¢å¸è½½æ—¶æ¸…ç†é—´éš”
  - Limit history of past evaluations
  - é™åˆ¶è¿‡å»è¯„ä¼°çš„å†å²è®°å½•

---

### Testing Requirements / æµ‹è¯•è¦æ±‚

#### Unit Tests / å•å…ƒæµ‹è¯•

- Test progress display component rendering
- æµ‹è¯•è¿›åº¦æ˜¾ç¤ºç»„ä»¶æ¸²æŸ“
- Test status updates and transitions
- æµ‹è¯•çŠ¶æ€æ›´æ–°å’Œè½¬æ¢
- Test error handling
- æµ‹è¯•é”™è¯¯å¤„ç†

#### Integration Tests / é›†æˆæµ‹è¯•

- Test real-time progress updates with mock API
- ä½¿ç”¨æ¨¡æ‹Ÿ API æµ‹è¯•å®æ—¶è¿›åº¦æ›´æ–°
- Test polling mechanism
- æµ‹è¯•è½®è¯¢æœºåˆ¶
- Test error recovery
- æµ‹è¯•é”™è¯¯æ¢å¤

#### UI Tests / UI æµ‹è¯•

- Test visual feedback (animations, colors, icons)
- æµ‹è¯•è§†è§‰åé¦ˆï¼ˆåŠ¨ç”»ã€é¢œè‰²ã€å›¾æ ‡ï¼‰
- Test responsive design
- æµ‹è¯•å“åº”å¼è®¾è®¡
- Test accessibility features
- æµ‹è¯•å¯è®¿é—®æ€§åŠŸèƒ½

---

**LLM Evaluation Progress Display / LLM è¯„ä¼°è¿›åº¦æ˜¾ç¤º**:
- Implement real-time progress tracking for multi-LLM evaluation
- å®ç°å¤š LLM è¯„ä¼°çš„å®æ—¶è¿›åº¦è¿½è¸ª
- Display current LLM provider being evaluated with status text (e.g., "Evaluating with Claude...")
- æ˜¾ç¤ºå½“å‰æ­£åœ¨è¯„ä¼°çš„ LLM æä¾›å•†åŠå…¶çŠ¶æ€æ–‡æœ¬ï¼ˆä¾‹å¦‚ï¼Œ"æ­£åœ¨ä½¿ç”¨ Claude è¯„ä¼°..."ï¼‰
- Show status for each LLM provider:
  - â³ In Progress / è¿›è¡Œä¸­
  - âœ“ Completed / å·²å®Œæˆ
  - âœ— Failed / å¤±è´¥
  - â¸ Pending / ç­‰å¾…ä¸­
- æ˜¾ç¤ºæ¯ä¸ª LLM æä¾›å•†çš„çŠ¶æ€ï¼š
  - â³ è¿›è¡Œä¸­
  - âœ“ å·²å®Œæˆ
  - âœ— å¤±è´¥
  - â¸ ç­‰å¾…ä¸­
- Display overall progress (e.g., "2 of 3 LLM providers completed")
- æ˜¾ç¤ºæ€»ä½“è¿›åº¦ï¼ˆä¾‹å¦‚ï¼Œ"3 ä¸ª LLM æä¾›å•†ä¸­çš„ 2 ä¸ªå·²å®Œæˆ"ï¼‰
- Update progress in real-time as each provider completes (poll API or use WebSocket)
- å½“æ¯ä¸ªæä¾›å•†å®Œæˆæ—¶å®æ—¶æ›´æ–°è¿›åº¦ï¼ˆè½®è¯¢ API æˆ–ä½¿ç”¨ WebSocketï¼‰
- Show intermediate results immediately when each provider completes
- å½“æ¯ä¸ªæä¾›å•†å®Œæˆæ—¶ç«‹å³æ˜¾ç¤ºä¸­é—´ç»“æœ

### Styling / æ ·å¼

**Design Pattern / è®¾è®¡æ¨¡å¼**:
- Follow same design pattern as `LLMTrade.html`
- éµå¾ªä¸ `LLMTrade.html` ç›¸åŒçš„è®¾è®¡æ¨¡å¼
- Use consistent color scheme and layout
- ä½¿ç”¨ä¸€è‡´çš„é¢œè‰²æ–¹æ¡ˆå’Œå¸ƒå±€
- Ensure responsive design for different screen sizes
- ç¡®ä¿ä¸åŒå±å¹•å°ºå¯¸çš„å“åº”å¼è®¾è®¡

**Color Scheme / é¢œè‰²æ–¹æ¡ˆ**:
- Primary: `#4f46e5` (Indigo)
- Success: `#22c55e` (Green)
- Error: `#ef4444` (Red)
- Background: `#f5f5fa` (Light Gray)
- Panel Background: `#ffffff` (White)

---

## Dependencies / ä¾èµ–å…³ç³»

### Depends on / ä¾èµ–

- **US-CORE-004-A**: Hyperliquid Connection and Authentication
  - Hyperliquid connection must be working before page can display data
  - Hyperliquid è¿æ¥å¿…é¡»æ­£å¸¸å·¥ä½œï¼Œé¡µé¢æ‰èƒ½æ˜¾ç¤ºæ•°æ®
- **US-CORE-004-B**: Hyperliquid Order Management
  - Order management functionality must be implemented
  - è®¢å•ç®¡ç†åŠŸèƒ½å¿…é¡»å·²å®ç°
- **US-CORE-004-C**: Hyperliquid Position and Balance Tracking
  - Position and balance tracking functionality must be implemented
  - ä»“ä½å’Œä½™é¢è¿½è¸ªåŠŸèƒ½å¿…é¡»å·²å®ç°
- **US-API-004**: Hyperliquid LLM Evaluation Support
  - LLM evaluation API must support Hyperliquid exchange
  - LLM è¯„ä¼° API å¿…é¡»æ”¯æŒ Hyperliquid äº¤æ˜“æ‰€

### Blocks / é˜»å¡

None / æ— 

---

## UI/UX Specifications / UI/UX è§„æ ¼

### Layout / å¸ƒå±€

**Page Width / é¡µé¢å®½åº¦**: Max 1200px, centered  
**Panel Spacing / é¢æ¿é—´è·**: 24px margin between panels  
**Panel Padding / é¢æ¿å†…è¾¹è·**: 24px  
**Panel Border Radius / é¢æ¿åœ†è§’**: 14px  
**Panel Shadow / é¢æ¿é˜´å½±**: `0 8px 30px rgba(15, 23, 42, 0.08)`

### Typography / å­—ä½“

**Font Family / å­—ä½“æ—**: `"Inter", "PingFang SC", sans-serif`  
**Heading Size / æ ‡é¢˜å¤§å°**: 20px  
**Body Text Size / æ­£æ–‡å¤§å°**: 14px  
**Label Size / æ ‡ç­¾å¤§å°**: 13px  
**Color / é¢œè‰²**: `#1f2937` (Dark Gray)

### Components / ç»„ä»¶

#### Connection Status Indicator / è¿æ¥çŠ¶æ€æŒ‡ç¤ºå™¨

- **Connected / å·²è¿æ¥**: Green circle (`#22c55e`) with "Connected / å·²è¿æ¥" text
- **Disconnected / å·²æ–­å¼€**: Red circle (`#ef4444`) with "Disconnected / å·²æ–­å¼€" text
- **Location / ä½ç½®**: Page header, top right

#### Tables / è¡¨æ ¼

- **Header Background / è¡¨å¤´èƒŒæ™¯**: `#f9fafb` (Light Gray)
- **Row Hover / è¡Œæ‚¬åœ**: `#f3f4f6` (Lighter Gray)
- **Border / è¾¹æ¡†**: `1px solid #e5e7eb` (Light Gray)
- **Font Size / å­—ä½“å¤§å°**: 12px

#### Buttons / æŒ‰é’®

- **Primary Button / ä¸»è¦æŒ‰é’®**: `#4f46e5` (Indigo), white text
- **Secondary Button / æ¬¡è¦æŒ‰é’®**: `#e5e7eb` (Light Gray), dark text
- **Success Button / æˆåŠŸæŒ‰é’®**: `#22c55e` (Green), white text
- **Border Radius / åœ†è§’**: 8px
- **Padding / å†…è¾¹è·**: 10px 16px

#### Input Fields / è¾“å…¥å­—æ®µ

- **Background / èƒŒæ™¯**: `#f9fafb` (Light Gray)
- **Border / è¾¹æ¡†**: `1px solid #e5e7eb` (Light Gray)
- **Border Radius / åœ†è§’**: 8px
- **Padding / å†…è¾¹è·**: 10px

---

## Testing Strategy / æµ‹è¯•ç­–ç•¥

### Unit Tests / å•å…ƒæµ‹è¯•

- Test JavaScript functions for data fetching and UI updates
- æµ‹è¯•ç”¨äºæ•°æ®è·å–å’Œ UI æ›´æ–°çš„ JavaScript å‡½æ•°
- Test error handling logic
- æµ‹è¯•é”™è¯¯å¤„ç†é€»è¾‘
- Test real-time update polling mechanism
- æµ‹è¯•å®æ—¶æ›´æ–°è½®è¯¢æœºåˆ¶

**Test File / æµ‹è¯•æ–‡ä»¶**: `tests/unit/web/test_hyperliquid_trade_page.py`

### Integration Tests / é›†æˆæµ‹è¯•

- Test API integration with backend endpoints
- æµ‹è¯•ä¸åç«¯ç«¯ç‚¹çš„ API é›†æˆ
- Test real-time updates with mock data
- ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®æµ‹è¯•å®æ—¶æ›´æ–°
- Test error handling with various error scenarios
- ä½¿ç”¨å„ç§é”™è¯¯åœºæ™¯æµ‹è¯•é”™è¯¯å¤„ç†

### UI Tests / UI æµ‹è¯•

- Test page layout and responsive design
- æµ‹è¯•é¡µé¢å¸ƒå±€å’Œå“åº”å¼è®¾è®¡
- Test bilingual text display
- æµ‹è¯•åŒè¯­æ–‡æœ¬æ˜¾ç¤º
- Test navigation links
- æµ‹è¯•å¯¼èˆªé“¾æ¥
- Test user interactions (button clicks, form submissions)
- æµ‹è¯•ç”¨æˆ·äº¤äº’ï¼ˆæŒ‰é’®ç‚¹å‡»ã€è¡¨å•æäº¤ï¼‰

---

## Risks and Mitigation / é£é™©ä¸ç¼“è§£

### Risk 1: API Performance / é£é™© 1ï¼šAPI æ€§èƒ½

**Risk / é£é™©**:  
Frequent polling may cause performance issues or API rate limiting.

é¢‘ç¹è½®è¯¢å¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜æˆ– API é€Ÿç‡é™åˆ¶ã€‚

**Mitigation / ç¼“è§£**:
- Implement intelligent polling (only when page is visible)
- å®ç°æ™ºèƒ½è½®è¯¢ï¼ˆä»…åœ¨é¡µé¢å¯è§æ—¶ï¼‰
- Cache data to reduce API calls
- ç¼“å­˜æ•°æ®ä»¥å‡å°‘ API è°ƒç”¨
- Use WebSocket if available for real-time updates
- å¦‚æœå¯ç”¨ï¼Œä½¿ç”¨ WebSocket è¿›è¡Œå®æ—¶æ›´æ–°

### Risk 2: Inconsistent Data / é£é™© 2ï¼šæ•°æ®ä¸ä¸€è‡´

**Risk / é£é™©**:  
UI may display stale data if updates fail or are delayed.

å¦‚æœæ›´æ–°å¤±è´¥æˆ–å»¶è¿Ÿï¼ŒUI å¯èƒ½æ˜¾ç¤ºè¿‡æ—¶æ•°æ®ã€‚

**Mitigation / ç¼“è§£**:
- Implement data freshness indicators
- å®ç°æ•°æ®æ–°é²œåº¦æŒ‡ç¤ºå™¨
- Show last update timestamp
- æ˜¾ç¤ºæœ€åæ›´æ–°æ—¶é—´æˆ³
- Handle update failures gracefully
- ä¼˜é›…åœ°å¤„ç†æ›´æ–°å¤±è´¥

### Risk 3: Browser Compatibility / é£é™© 3ï¼šæµè§ˆå™¨å…¼å®¹æ€§

**Risk / é£é™©**:  
Modern JavaScript features may not work in older browsers.

ç°ä»£ JavaScript åŠŸèƒ½å¯èƒ½åœ¨æ—§æµè§ˆå™¨ä¸­ä¸èµ·ä½œç”¨ã€‚

**Mitigation / ç¼“è§£**:
- Test on major browsers (Chrome, Firefox, Safari, Edge)
- åœ¨ä¸»è¦æµè§ˆå™¨ä¸Šæµ‹è¯•ï¼ˆChromeã€Firefoxã€Safariã€Edgeï¼‰
- Use polyfills for older browser support
- ä½¿ç”¨ polyfill æ”¯æŒæ—§æµè§ˆå™¨
- Document browser requirements
- è®°å½•æµè§ˆå™¨è¦æ±‚

---

## Related Documents / ç›¸å…³æ–‡æ¡£

- User Story: `docs/stories/web/US-UI-004.md`
- Epic: `EPIC-02` (Hyperliquid Exchange Integration)
- Related Specifications:
  - `docs/specs/trading/CORE-004.md` (Hyperliquid Exchange Integration)
- Related User Stories:
  - `US-CORE-004-A` (Hyperliquid Connection)
  - `US-CORE-004-B` (Order Management)
  - `US-CORE-004-C` (Position Tracking)
  - `US-API-004` (LLM Evaluation API)
- Contract: `contracts/web.json#EvaluationAPI`
- Tests: `tests/unit/web/test_hyperliquid_trade_page.py` (to be created)

---

## Owner / è´Ÿè´£äºº

**Agent**: Agent WEB  
**Last Updated / æœ€åæ›´æ–°**: 2025-12-04

