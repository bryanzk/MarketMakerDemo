{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "version": "2.0.0",
  "project": {
    "name": "MarketMakerDemo",
    "description": "Agent-first market making system / 面向 Agent 的做市系统",
    "language": "Python 3.11+",
    "framework": "FastAPI + Binance API",
    "documentation_entry": "README.md"
  },
  "modules": [
    {
      "id": "shared",
      "name": "Shared Platform / 共享平台",
      "owner_agent": "Agent ARCH",
      "source_dir": "src/shared/",
      "test_dir": null,
      "module_card": "docs/modules/shared.json",
      "feature_source": "docs/modules/shared.json#/features",
      "forbidden_responsibilities": [
        "Business-specific trading logic",
        "Portfolio capital allocation"
      ]
    },
    {
      "id": "trading",
      "name": "Trading Engine / 交易引擎",
      "owner_agent": "Agent TRADING",
      "source_dir": "src/trading/",
      "test_dir": "tests/unit/trading/",
      "module_card": "docs/modules/trading.json",
      "feature_source": "docs/modules/trading.json#/features",
      "dependencies": ["shared"],
      "contracts": ["contracts/trading.json"]
    },
    {
      "id": "portfolio",
      "name": "Portfolio & Risk / 组合与风险",
      "owner_agent": "Agent PORTFOLIO",
      "source_dir": "src/portfolio/",
      "test_dir": "tests/unit/portfolio/",
      "module_card": "docs/modules/portfolio.json",
      "feature_source": "docs/modules/portfolio.json#/features",
      "dependencies": ["shared", "trading"],
      "contracts": ["contracts/portfolio.json"]
    },
    {
      "id": "ai",
      "name": "AI & Evaluation / AI 评估层",
      "owner_agent": "Agent AI",
      "source_dir": "src/ai/",
      "test_dir": "tests/unit/ai/",
      "module_card": "docs/modules/ai.json",
      "feature_source": "docs/modules/ai.json#/features",
      "dependencies": ["shared", "trading"],
      "contracts": ["contracts/ai.json"]
    },
    {
      "id": "web",
      "name": "Web & API / Web 与 API",
      "owner_agent": "Agent WEB",
      "source_dir": "src/web/",
      "test_dir": "tests/unit/web/",
      "module_card": "docs/modules/web.json",
      "feature_source": "docs/modules/web.json#/features",
      "dependencies": ["trading", "portfolio", "ai"],
      "contracts": ["contracts/web.json"]
    },
    {
      "id": "qa",
      "name": "Quality & Docs / 质量与文档",
      "owner_agent": "Agent QA",
      "source_dir": null,
      "test_dir": "tests/",
      "module_card": "docs/modules/qa.json",
      "feature_source": "docs/modules/qa.json#/features",
      "dependencies": ["trading", "portfolio", "web", "ai"],
      "contracts": null
    }
  ],
  "governance": {
    "management_json": "docs/progress/progress_index.json",
    "audit_script": "scripts/audit_check.py",
    "status_registry": "status/roadmap.json",
    "agent_requests": "status/agent_requests.json",
    "readonly_policy": "Only Agent PM may edit manifest and progress JSON / 仅 Agent PM 可修改 manifest 与 progress JSON"
  },
  "pipeline": {
    "description": "13-step pipeline with JSON checkpoints / 基于 JSON 的 13 步流程",
    "steps": [
      {"step": 1, "field": "spec_defined", "agent": "Agent PO", "artifact": "docs/specs/{module}/{feature}.md"},
      {"step": 2, "field": "story_defined", "agent": "Agent PO", "artifact": "docs/stories/{module}/US-{ID}.md"},
      {"step": 3, "field": "ac_defined", "agent": "Agent PO", "artifact": "Acceptance criteria inside story / 用户故事内的验收标准"},
      {"step": 4, "field": "contract_defined", "agent": "Agent ARCH", "artifact": "contracts/{module}.json"},
      {"step": 5, "field": "unit_test_written", "agent": "Module Owner", "artifact": "tests/unit/{module}/test_{feature}.py"},
      {"step": 6, "field": "code_implemented", "agent": "Module Owner", "artifact": "src/{module}/"},
      {"step": 7, "field": "code_reviewed", "agent": "Agent REVIEW", "artifact": "logs/reviews/{feature}.json"},
      {"step": 8, "field": "unit_test_passed", "agent": "Module Owner", "artifact": "pytest reports"},
      {"step": 9, "field": "smoke_test_passed", "agent": "Agent QA", "artifact": "tests/smoke/ reports"},
      {"step": 10, "field": "integration_passed", "agent": "Agent QA", "artifact": "tests/integration/ reports"},
      {"step": 11, "field": "docs_updated", "agent": "Agent QA", "artifact": "docs/user_guide/{module}/"},
      {"step": 12, "field": "progress_logged", "agent": "Agent PM", "artifact": "status/roadmap.json"},
      {"step": 13, "field": "ci_cd_passed", "agent": "Human Reviewer", "artifact": "GitHub Actions results"}
    ]
  },
  "naming_conventions": {
    "module_id": "Use lowercase identifiers (e.g., trading, ai)",
    "feature_id": "{CATEGORY}-{NUMBER} (e.g., CORE-001, API-002)",
    "event_id": "E-YYYY-NNNN for progress events",
    "branch": "feature/{feature_id}-{slug}",
    "commit": "<type>(<scope>): <description>"
  },
  "readonly": true,
  "last_updated": "2025-11-30",
  "maintained_by": "Agent PM"
}



