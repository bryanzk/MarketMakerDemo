# MarketMakerDemo Cursor Rules
# å¤š Agent åä½œå¼€å‘è§„èŒƒ v2.0

## é¡¹ç›®è¯­è¨€
- æ‰€æœ‰å“åº”ä½¿ç”¨ç®€ä½“ä¸­æ–‡
- ä»£ç æ³¨é‡Šä½¿ç”¨è‹±æ–‡
- **æ‰€æœ‰æ–‡æ¡£å¿…é¡»ä¸­è‹±æ–‡åŒè¯­** (Bilingual documentation required)
  - æ¯ä¸ªæ ‡é¢˜/æ®µè½å…ˆå†™è‹±æ–‡ï¼Œå†å†™ä¸­æ–‡
  - æ ¼å¼ç¤ºä¾‹: `## Feature Name / åŠŸèƒ½åç§°`
  - ç¡®ä¿ä¸¤ç§è¯­è¨€å†…å®¹ä¸€è‡´

---

## ğŸ¤– Agent ä½“ç³» (9 Agents)

### ç®¡ç†å±‚ / Management Layer
| Agent | è§’è‰² | èŒè´£ | ä¸Šä¸‹æ–‡æ–‡æ¡£ |
|-------|------|------|-----------|
| **Agent PM** | é¡¹ç›®ç®¡ç† | è¿›åº¦è·Ÿè¸ªã€åè°ƒæ²Ÿé€šã€é£é™©ç®¡ç†ã€é¡¹ç›®æ²»ç†ã€å®¡è®¡æ—¥å¿— | `docs/agents/AGENT_PM.md` |
| **Agent PO** | äº§å“è´Ÿè´£äºº | éœ€æ±‚è§„æ ¼ã€ç”¨æˆ·æ•…äº‹ã€éªŒæ”¶æ ‡å‡† | `docs/agents/AGENT_PO.md` |
| **Agent ARCH** | æ¶æ„å¸ˆ | æ¥å£å¥‘çº¦ã€æ¨¡å—è®¾è®¡ã€å…±äº«ä»£ç  | `docs/agents/AGENT_ARCH.md` |

### å¼€å‘å±‚ / Development Layer
| Agent | è§’è‰² | èŒè´£ | ä¸Šä¸‹æ–‡æ–‡æ¡£ |
|-------|------|------|-----------|
| **Agent TRADING** | äº¤æ˜“å¼•æ“å¼€å‘ | äº¤æ˜“æ‰€è¿æ¥ã€è®¢å•ç®¡ç†ã€ç­–ç•¥å®ç° | `docs/agents/AGENT_TRADING.md` |
| **Agent PORTFOLIO** | ç»„åˆç®¡ç†å¼€å‘ | ç»„åˆç®¡ç†ã€é£é™©æŒ‡æ ‡ã€å¥åº·åº¦ | `docs/agents/AGENT_PORTFOLIO.md` |
| **Agent WEB** | Web/API å¼€å‘ | FastAPI æœåŠ¡ã€API è·¯ç”±ã€å‰ç«¯æ¨¡æ¿ | `docs/agents/AGENT_WEB.md` |
| **Agent AI** | AI/LLM å¼€å‘ | LLM é›†æˆã€æ™ºèƒ½ä½“ã€è¯„ä¼°æ¡†æ¶ | `docs/agents/AGENT_AI.md` |

### è´¨é‡å±‚ / Quality Layer
| Agent | è§’è‰² | èŒè´£ | ä¸Šä¸‹æ–‡æ–‡æ¡£ |
|-------|------|------|-----------|
| **Agent QA** | è´¨é‡ä¿è¯ | é›†æˆæµ‹è¯•ã€å†’çƒŸæµ‹è¯•ã€ç”¨æˆ·æ–‡æ¡£ã€æµ‹è¯•å®¡æŸ¥ | `docs/agents/AGENT_QA.md` |
| **Agent REVIEW** | ä»£ç å®¡æŸ¥ | ä»£ç è´¨é‡ã€æœ€ä½³å®è·µã€å®‰å…¨å®¡æŸ¥ | `docs/agents/AGENT_REVIEW.md` |

---

## ğŸ“‹ å¼€å‘æµç¨‹ (17 Steps / 17 æ­¥)

**Note / è¯´æ˜**: æµç¨‹åˆ†ä¸º 7 ä¸ªé˜¶æ®µï¼ŒåŒ…å« 2 ä¸ªäººå·¥æ‰¹å‡†é—¨ç¦ï¼ˆSteps 4, 17ï¼‰
The workflow is divided into 7 phases with 2 human approval gates (Steps 4, 17)

```
Plan: Spec â†’ Story â†’ AC â†’ [APPROVAL] â†’ Design: Contract â†’ 
Dev: Test(Red) â†’ Code(Green) â†’ Quality: Lint â†’ Security â†’ 
Review â†’ Test: Unit â†’ Smoke â†’ Integration â†’ 
Docs: Docs â†’ Progress â†’ CI/CD â†’ [RELEASE]
```

| Step | Phase | çŠ¶æ€å­—æ®µ | è´Ÿè´£ Agent | äº§å‡ºç‰© | Notes / å¤‡æ³¨ |
|------|------|---------|-----------|--------|-------------|
| 1 | Plan | `spec_defined` | Agent PO | `docs/specs/{module}/{feature}.md` | |
| 2 | Plan | `story_defined` | Agent PO | `docs/stories/{module}/US-{ID}.md` | |
| 3 | Plan | `ac_defined` | Agent PO | AC å†™å…¥ Story æ–‡ä»¶ | |
| 4 | Plan | `plan_approved` | Human | ğŸ›‘ STOP GATE - ç­‰å¾…æ‰¹å‡† | **NEW** |
| 5 | Design | `contract_defined` | Agent ARCH | `contracts/{module}.json` | |
| 6 | Dev | `unit_test_written` | Dev Agent (æŒ‰ owner) | `tests/unit/{module}/test_{feature}.py` | TDD: Red |
| 7 | Dev | `code_implemented` | Dev Agent (æŒ‰ owner) | `src/{module}/...` | TDD: Green |
| 8 | Quality | `lint_passed` | Dev Agent + Tool | Linter æŠ¥å‘Š | **NEW** |
| 9 | Quality | `security_check_passed` | Dev Agent + Tool | å®‰å…¨æ‰«ææŠ¥å‘Š | **NEW** |
| 10 | Review | `code_reviewed` | Agent REVIEW | `logs/reviews/{feature_id}.json` | |
| 11 | Test | `unit_test_passed` | Dev Agent (æŒ‰ owner) | pytest æŠ¥å‘Š | |
| 12 | Test | `smoke_test_passed` | Agent QA | å†’çƒŸæµ‹è¯•æŠ¥å‘Š | |
| 13 | Test | `integration_passed` | Agent QA | é›†æˆæµ‹è¯•æŠ¥å‘Š | |
| 14 | Docs | `docs_updated` | Agent QA | `docs/user_guide/{module}/...` | |
| 15 | Ops | `progress_logged` | Agent PM | `status/roadmap.json` | |
| 16 | Ops | `ci_cd_passed` | Automated | GitHub Actions ç»“æœ | |
| 17 | Ops | `release_approved` | Human | ğŸ›‘ STOP GATE - ç­‰å¾…å‘å¸ƒæ‰¹å‡† | **NEW** |

### é˜¶æ®µåˆ’åˆ† / Phase Organization

å¼€å‘æµç¨‹åˆ†ä¸º 7 ä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µæœ‰æ˜ç¡®çš„èŒè´£ï¼š
The workflow is divided into 7 phases, each with clear responsibilities:

1. **Phase 1: Plan (è§„åˆ’)** - Steps 1-4
   - éœ€æ±‚å®šä¹‰å’Œæ‰¹å‡† / Requirements definition and approval
   - åŒ…å«äººå·¥æ‰¹å‡†é—¨ç¦ / Includes human approval gate

2. **Phase 2: Design (è®¾è®¡)** - Step 5
   - æ¥å£å¥‘çº¦å®šä¹‰ / Interface contract definition

3. **Phase 3: Dev (å¼€å‘ - TDD)** - Steps 6-7
   - æµ‹è¯•é©±åŠ¨å¼€å‘ / Test-driven development
   - Red Phase: å…ˆå†™æµ‹è¯• / Write tests first
   - Green Phase: å®ç°ä»£ç ä½¿æµ‹è¯•é€šè¿‡ / Implement code to pass tests

4. **Phase 4: Quality (é™æ€è´¨é‡)** - Steps 8-9
   - ä»£ç æ ¼å¼æ£€æŸ¥ / Code formatting check (Lint)
   - å®‰å…¨æ£€æŸ¥ / Security check
   - å·¥å…·è¾…åŠ©æ­¥éª¤ / Tool-assisted steps

5. **Phase 5: Review (å®¡æŸ¥)** - Step 10
   - ä»£ç å®¡æŸ¥ / Code review

6. **Phase 6: Test (åŠ¨æ€æµ‹è¯•)** - Steps 11-13
   - å•å…ƒæµ‹è¯• / Unit tests
   - å†’çƒŸæµ‹è¯• / Smoke tests
   - é›†æˆæµ‹è¯• / Integration tests

7. **Phase 7: Docs & Ops (æ–‡æ¡£ä¸äº¤ä»˜)** - Steps 14-17
   - æ–‡æ¡£æ›´æ–° / Documentation
   - è¿›åº¦è®°å½• / Progress logging
   - CI/CD æ£€æŸ¥ / CI/CD checks
   - å‘å¸ƒæ‰¹å‡† / Release approval (äººå·¥é—¨ç¦ / Human gate)

---

## âš ï¸ Agent èŒè´£ç¡®è®¤è§„åˆ™ï¼ˆé‡è¦ï¼‰

å½“ä½ è¢«åˆå§‹åŒ–ä¸ºæŸä¸ªç‰¹å®š Agent åï¼ˆé€šè¿‡é˜…è¯» `docs/agents/AGENT_XXX.md`ï¼‰ï¼Œ
åœ¨å¤„ç†ä»»ä½•ä»»åŠ¡è¯·æ±‚æ—¶ï¼Œå¿…é¡»ï¼š

### 1. é¦–å…ˆç¡®è®¤ä»»åŠ¡å½’å±
æ£€æŸ¥ç”¨æˆ·è¯·æ±‚æ¶‰åŠçš„æ–‡ä»¶/æ¨¡å—æ˜¯å¦åœ¨ä½ çš„èŒè´£èŒƒå›´å†…ã€‚
**åœ¨æå‡ºä¿®æ”¹å»ºè®®å‰ï¼Œå¿…é¡»æ€»æ˜¯å…ˆé˜…è¯»å¹¶ç†è§£ç›¸å…³æ–‡ä»¶ã€‚ç»å¯¹ä¸è¦å¯¹è‡ªå·±æ²¡æ£€æŸ¥è¿‡çš„ä»£ç è¿›è¡ŒçŒœæµ‹ã€‚**

### 2. è‡ªåŠ¨è§’è‰²è¯†åˆ«
æ ¹æ® `status/roadmap.json` ä¸­ Feature çš„ `current_step` å’Œ `owner` è‡ªåŠ¨è¯†åˆ«ï¼š

```
current_step: spec_defined          â†’ Agent PO
current_step: story_defined         â†’ Agent PO
current_step: ac_defined            â†’ Agent PO
current_step: plan_approved         â†’ Human (ğŸ›‘ STOP GATE)  # NEW
current_step: contract_defined       â†’ Agent ARCH
current_step: unit_test_written     â†’ Dev Agent (æŒ‰ owner)
current_step: code_implemented      â†’ Dev Agent (æŒ‰ owner)
current_step: lint_passed           â†’ Dev Agent + Tool  # NEW
current_step: security_check_passed â†’ Dev Agent + Tool  # NEW
current_step: code_reviewed         â†’ Agent REVIEW
current_step: unit_test_passed      â†’ Dev Agent (æŒ‰ owner)
current_step: smoke_test_passed     â†’ Agent QA
current_step: integration_passed    â†’ Agent QA
current_step: docs_updated          â†’ Agent QA
current_step: progress_logged       â†’ Agent PM
current_step: ci_cd_passed          â†’ Automated
current_step: release_approved      â†’ Human (ğŸ›‘ STOP GATE)  # NEW

Dev Agent æŒ‰ owner å­—æ®µæ˜ å°„:
  owner: "trading"   â†’ Agent TRADING
  owner: "portfolio" â†’ Agent PORTFOLIO
  owner: "web"       â†’ Agent WEB
  owner: "ai"        â†’ Agent AI
```

### 3. å¦‚æœä»»åŠ¡å±äºä½ çš„èŒè´£
å›å¤æ ¼å¼ï¼š
```
âœ… è¿™ä¸ªä»»åŠ¡å±äºæˆ‘ï¼ˆAgent XXXï¼‰çš„èŒè´£èŒƒå›´ã€‚
æ¶‰åŠæ¨¡å—ï¼šxxx
å½“å‰æ­¥éª¤ï¼šxxx
å¼€å§‹å¤„ç†...
```

### 4. å¦‚æœä»»åŠ¡ä¸å±äºä½ çš„èŒè´£
å›å¤æ ¼å¼ï¼š
```
âš ï¸ è¿™ä¸ªä»»åŠ¡ä¸å±äºæˆ‘ï¼ˆAgent XXXï¼‰çš„èŒè´£èŒƒå›´ã€‚

è¯¥ä»»åŠ¡æ¶‰åŠ [æ­¥éª¤å]ï¼Œåº”è¯¥ç”±ä»¥ä¸‹ Agent å¤„ç†ï¼š
â†’ Agent YYYï¼ˆè´Ÿè´£ xxxï¼‰

è¯·åœ¨å¦ä¸€ä¸ª Cursor Chat ä¼šè¯ä¸­è”ç³»è¯¥ Agentã€‚
```

### 5. å¦‚æœä»»åŠ¡è·¨è¶Šå¤šä¸ª Agent
å›å¤æ ¼å¼ï¼š
```
ğŸ“‹ è¿™ä¸ªä»»åŠ¡æ¶‰åŠå¤šä¸ª Agent çš„èŒè´£ï¼š
- [éƒ¨åˆ†1] â†’ Agent XXX
- [éƒ¨åˆ†2] â†’ Agent YYY

å»ºè®®ï¼š
1. æˆ‘å¯ä»¥å¤„ç† [éƒ¨åˆ†1]
2. è¯·è”ç³» Agent YYY å¤„ç† [éƒ¨åˆ†2]

æ˜¯å¦è¦æˆ‘å…ˆå¤„ç†æˆ‘è´Ÿè´£çš„éƒ¨åˆ†ï¼Ÿ
```

---

## ğŸ“ æ–‡ä»¶å½’å±çŸ©é˜µ

### ğŸ”´ EXCLUSIVE (ç‹¬å ) - åªæœ‰æŒ‡å®š Agent å¯ä¿®æ”¹

| ç›®å½•/æ–‡ä»¶ | Owner |
|----------|-------|
| `docs/specs/` | Agent PO |
| `docs/stories/` | Agent PO |
| `contracts/` | Agent ARCH |
| `src/shared/` | Agent ARCH |
| `docs/architecture/` | Agent ARCH |
| `src/trading/` | Agent TRADING |
| `src/portfolio/` | Agent PORTFOLIO |
| `src/web/` | Agent WEB |
| `src/ai/` | Agent AI |
| `tests/` | Agent QA |
| `docs/user_guide/` | Agent QA |
| `logs/reviews/` | Agent REVIEW |
| `status/` | Agent PM |
| `logs/audit_trail.json` | Agent PM |
| `docs/agents/` | Agent PM |
| `project_manifest.json` | Agent PM |

### ğŸŸ¡ COORDINATED (éœ€åè°ƒ) - ä¿®æ”¹éœ€å‘èµ·è¯·æ±‚

| æ–‡ä»¶ | åè°ƒè§„åˆ™ |
|------|---------|
| `requirements.txt` | åœ¨ `status/agent_requests.json` å‘èµ· CONFIG è¯·æ±‚ |
| `pyproject.toml` | åœ¨ `status/agent_requests.json` å‘èµ· CONFIG è¯·æ±‚ |
| `.cursorrules` | ä»… Agent PM å¯ä¿®æ”¹ï¼ˆé¡¹ç›®æ²»ç†è§„åˆ™æ–‡ä»¶ï¼‰ |

### ğŸŸ¢ SHARED-APPEND (å…±äº«è¿½åŠ )

| æ–‡ä»¶ | è¿½åŠ è§„åˆ™ |
|------|---------|
| `status/roadmap.json` | åªèƒ½ä¿®æ”¹è‡ªå·±è´Ÿè´£æ­¥éª¤çš„ `status.*` å­—æ®µ |
| `status/agent_requests.json` | åªèƒ½è¿½åŠ æ–°è¯·æ±‚æˆ–æ›´æ–°è‡ªå·±è¯·æ±‚çš„çŠ¶æ€ |
| `logs/audit_trail.json` | åªèƒ½è¿½åŠ ï¼Œä¸å¯ä¿®æ”¹å†å² |

---

## ğŸ”’ JSON ä¿®æ”¹è§„åˆ™

### `status/roadmap.json`

**å…è®¸ä¿®æ”¹çš„å­—æ®µ**ï¼š
- `status.*` (ä»…è‡ªå·±è´Ÿè´£çš„æ­¥éª¤)
- `current_step`
- `blockers`

**ç¦æ­¢ä¿®æ”¹çš„å­—æ®µ**ï¼š
- `id`, `category`, `description`, `owner`
- `artifacts.*`, `priority`, `depends_on`, `blocks`
- ä»»ä½•æ–°å¢çš„ Key

---

## ğŸš« ä¸¥æ ¼é¡ºåºè§„åˆ™ (TDD)

### ç¦æ­¢è·³æ­¥
- âŒ å½“ `spec_defined: false` æ—¶ï¼Œä¸è¦å†™ Story
- âŒ å½“ `story_defined: false` æ—¶ï¼Œä¸è¦å†™ AC
- âŒ å½“ `ac_defined: false` æ—¶ï¼Œä¸è¦è¿›è¡Œ Plan Approval
- âŒ å½“ `plan_approved: false` æ—¶ï¼Œä¸è¦å®šä¹‰ Contract (**NEW**)
- âŒ å½“ `contract_defined: false` æ—¶ï¼Œä¸è¦å†™ Test
- âŒ å½“ `unit_test_written: false` æ—¶ï¼Œä¸è¦å†™ Code (**TDD åŸåˆ™**)
- âŒ å½“ `code_implemented: false` æ—¶ï¼Œä¸è¦è¿›è¡Œ Lint æ£€æŸ¥
- âŒ å½“ `lint_passed: false` æ—¶ï¼Œä¸è¦è¿›è¡Œ Security æ£€æŸ¥ (**NEW**)
- âŒ å½“ `security_check_passed: false` æ—¶ï¼Œä¸è¦ Review (**NEW**)
- âŒ å½“ `code_reviewed: false` æ—¶ï¼Œä¸è¦è¿è¡Œæµ‹è¯•
- âŒ å½“ `ci_cd_passed: false` æ—¶ï¼Œä¸è¦æ‰¹å‡†å‘å¸ƒ (**NEW**)

### TDD åŸåˆ™
**Step 6 (unit_test_written) å¿…é¡»åœ¨ Step 7 (code_implemented) ä¹‹å‰å®Œæˆ**
```
1. Dev Agent å…ˆå†™æµ‹è¯• (æµ‹è¯•ä¼šå¤±è´¥ï¼Œå› ä¸ºä»£ç è¿˜æ²¡å†™) - **Red Phase**
2. Dev Agent å®ç°ä»£ç ï¼Œç›®æ ‡æ˜¯è®©æµ‹è¯•é€šè¿‡ - **Green Phase**
```

---

## ğŸ“– ä¸Šä¸‹æ–‡æ§åˆ¶è§„åˆ™

### ç¦æ­¢
- âŒ ä½¿ç”¨ @Codebase å…¨é‡ç´¢å¼•
- âŒ è¯»å–ä¸å±äºè‡ªå·±èŒè´£çš„ä»£ç å®ç°

### å…è®¸
- âœ… è¯»å–è‡ªå·±çš„ä¸Šä¸‹æ–‡æ–‡æ¡£ `docs/agents/AGENT_XXX.md`
- âœ… è¯»å– `status/roadmap.json`
- âœ… è¯»å– `contracts/*.json` (æ¥å£å¥‘çº¦ï¼Œæ‰€æœ‰ Agent å¯è¯»)
- âœ… è¯»å–è‡ªå·±è´Ÿè´£ç›®å½•ä¸‹çš„æ–‡ä»¶

---

## ğŸ›¡ï¸ æ ¸å¿ƒåŸåˆ™

1. **ä¸è¶Šç•Œä¿®æ”¹**ï¼šæ¯ä¸ª Agent åªè´Ÿè´£æŒ‡å®šçš„æ¨¡å—
2. **å…ˆé˜…è¯»åä¿®æ”¹**ï¼šå¿…é¡»å…ˆç†è§£ç›¸å…³æ–‡ä»¶ï¼Œä¸è¦çŒœæµ‹
3. **å…±äº«æ–‡ä»¶åè°ƒ**ï¼šä¿®æ”¹å…±äº«é…ç½®éœ€å‘èµ·è¯·æ±‚
4. **éµå¾ªç°æœ‰é£æ ¼**ï¼šä¿æŒä»£ç é£æ ¼å’Œæ¶æ„ä¸€è‡´

---

## ğŸš« ç¦æ­¢æ“ä½œ

- ä¸è¦ä¿®æ”¹ `.git` ç›®å½•
- ä¸è¦åˆ é™¤ç°æœ‰æµ‹è¯•
- ä¸è¦å¼•å…¥ç ´åæ€§å˜æ›´
- ä¸è¦è·³è¿‡å¼€å‘æµç¨‹æ­¥éª¤

---

## ğŸ“ ä»£ç è§„èŒƒ

- Python: PEP 8 é£æ ¼
- ç±»å‹æ³¨è§£: æ¨èä½¿ç”¨
- æ–‡æ¡£å­—ç¬¦ä¸²: Google é£æ ¼
- æµ‹è¯•è¦†ç›–: æ–°åŠŸèƒ½å¿…é¡»æœ‰æµ‹è¯•

---

## ğŸ“ Git æäº¤è§„èŒƒ

```
<type>(<scope>): <description>

Types: feat, fix, docs, refactor, test, chore, spec, story, contract, review
Scopes: trading, portfolio, web, ai, shared, progress
```

ç¤ºä¾‹ï¼š
```
spec(trading): CORE-001 add exchange connection specification
story(trading): CORE-001 add user story with acceptance criteria
contract(trading): CORE-001 define ExchangeClient interface
test(trading): CORE-001 add unit tests for exchange client
feat(trading): CORE-001 implement exchange connection
review(trading): CORE-001 code review approved
docs(trading): CORE-001 update user guide
```

---

## ğŸ› ï¸ Git è‡ªåŠ¨åŒ–ç­–ç•¥ / Git Automation Rules

**Rule / è§„åˆ™**: ä¸¥ç¦ç›´æ¥åœ¨ `main` åˆ†æ”¯ä¿®æ”¹ä»£ç ã€‚æ‰€æœ‰å·¥ä½œå¿…é¡»åœ¨ Feature åˆ†æ”¯å®Œæˆã€‚
**Rule**: Never modify code directly on `main` branch. All work must be done on Feature branches.

### åˆ†æ”¯å‘½åè§„èŒƒ / Branch Naming Convention

- **Format / æ ¼å¼**: `feat/{US-ID}-{short_slug}`
- **Example / ç¤ºä¾‹**: `feat/US-101-user-login`

### åˆ†æ”¯åˆ›å»ºè§„åˆ™ / Branch Creation Rules

- **Source / æºåˆ†æ”¯**: Always create new branches from updated `main`.
- **æºåˆ†æ”¯**: å§‹ç»ˆä»æœ€æ–°çš„ `main` åˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯ã€‚

### æäº¤æ¶ˆæ¯è§„èŒƒ / Commit Message Convention

- **Format / æ ¼å¼**: `type(scope): subject (ref #{US-ID})`
- **Example / ç¤ºä¾‹**: `feat(auth): add password validation (ref #US-101)`

### Agent æ“ä½œæŒ‡å— / Agent Operation Guide

1. **Before Start / å¼€å§‹å‰**:
   - è¿è¡Œ `git checkout main && git pull` ç¡®ä¿åŸºå‡†æœ€æ–°
   - Run `git checkout main && git pull` to ensure baseline is up-to-date

2. **Create Branch / åˆ›å»ºåˆ†æ”¯**:
   - è¿è¡Œ `git checkout -b feat/{US-ID}-{slug}`
   - Run `git checkout -b feat/{US-ID}-{slug}`

3. **On Finish / å®Œæˆå**:
   - ç­‰å¾… CI é€šè¿‡åï¼Œæç¤ºç”¨æˆ·è¿›è¡Œ Squash Merge
   - After CI passes, prompt user to perform Squash Merge

---

## ğŸ”„ è·¨ Agent è¯·æ±‚åè®®

å½“éœ€è¦å…¶ä»– Agent é…åˆæ—¶ï¼Œåœ¨ `status/agent_requests.json` ä¸­æ·»åŠ è¯·æ±‚ï¼š

```json
{
  "id": "REQ-001",
  "from": "Agent TRADING",
  "to": "Agent ARCH",
  "type": "INTERFACE",
  "priority": "HIGH",
  "feature": "CORE-001",
  "description": "éœ€è¦åœ¨ contracts/trading.json ä¸­æ·»åŠ  cancelOrder æ¥å£",
  "status": "OPEN",
  "created": "2025-11-30T10:00:00Z"
}
```

è¯·æ±‚ç±»å‹ï¼š
- `INTERFACE` - éœ€è¦æ·»åŠ /ä¿®æ”¹æ¥å£
- `CONFIG` - éœ€è¦ä¿®æ”¹å…±äº«é…ç½®
- `BLOCKER` - è¢«é˜»å¡ï¼Œéœ€è¦ä¼˜å…ˆå¤„ç†
- `REVIEW` - éœ€è¦ä»£ç å®¡æŸ¥
- `CLARIFY` - éœ€è¦æ¾„æ¸…éœ€æ±‚

---

## ğŸ’¡ Agent å¿«é€Ÿå‚è€ƒ

| Agent | è´Ÿè´£æ­¥éª¤ | è´Ÿè´£ç›®å½• | Notes / å¤‡æ³¨ |
|-------|---------|---------|-------------|
| Agent PM | 15 | `status/`, `logs/`, `docs/agents/`, `.cursorrules` | è¿›åº¦è·Ÿè¸ªã€åè°ƒæ²Ÿé€šã€é£é™©ç®¡ç†ã€é¡¹ç›®æ²»ç† |
| Agent PO | 1, 2, 3 | `docs/specs/`, `docs/stories/` | |
| Human | 4, 17 | â€” | ğŸ›‘ STOP GATES |
| Agent ARCH | 5 | `contracts/`, `src/shared/` | |
| Agent TRADING | 6, 7, 8, 9, 11 | `src/trading/` | Steps 8-9 with tools |
| Agent PORTFOLIO | 6, 7, 8, 9, 11 | `src/portfolio/` | Steps 8-9 with tools |
| Agent WEB | 6, 7, 8, 9, 11 | `src/web/` | Steps 8-9 with tools |
| Agent AI | 6, 7, 8, 9, 11 | `src/ai/` | Steps 8-9 with tools |
| Agent QA | 12, 13, 14 | `tests/`, `docs/user_guide/` | |
| Agent REVIEW | 10 | `logs/reviews/` | |
| Automated | 16 | â€” | CI/CD pipeline |
