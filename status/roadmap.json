{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "version": "1.0.0",
  "last_updated": "2025-11-30",
  "last_updated_by": "Agent PM",
  "mutation_rules": {
    "allowed": [
      "Update 'status.*' fields for steps you are responsible for",
      "Update 'current_step' when advancing to next step",
      "Update 'blockers' array",
      "Update 'last_updated' and 'last_updated_by'"
    ],
    "forbidden": [
      "Modify 'id', 'category', 'description', 'description_zh'",
      "Modify 'owner', 'priority', 'depends_on', 'blocks'",
      "Delete existing features",
      "Add new keys to feature objects",
      "Set status to true without test evidence"
    ]
  },
  "features": [
    {
      "id": "CORE-001",
      "category": "core",
      "description": "Exchange connection and authentication",
      "description_zh": "交易所连接与认证",
      "owner": "trading",
      "priority": "P0",
      "depends_on": [],
      "blocks": ["CORE-002", "CORE-003"],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/trading/CORE-001.md",
        "story": "docs/stories/trading/US-CORE-001.md",
        "contract": "contracts/trading.json#ExchangeClient",
        "test": "tests/unit/trading/test_exchange_connection.py",
        "code": "src/trading/exchange.py",
        "review": "logs/reviews/CORE-001.json",
        "docs": "docs/user_guide/trading/exchange_connection.md"
      },
      "blockers": []
    },
    {
      "id": "CORE-002",
      "category": "core",
      "description": "Order placement and management",
      "description_zh": "订单下单与管理",
      "owner": "trading",
      "priority": "P0",
      "depends_on": ["CORE-001"],
      "blocks": ["STRAT-001", "STRAT-002"],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/trading/CORE-002.md",
        "story": "docs/stories/trading/US-CORE-002.md",
        "contract": "contracts/trading.json#OrderManager",
        "test": "tests/unit/trading/test_order_manager.py",
        "code": "src/trading/order_manager.py",
        "review": "logs/reviews/CORE-002.json",
        "docs": "docs/user_guide/trading/order_management.md"
      },
      "blockers": []
    },
    {
      "id": "CORE-003",
      "category": "core",
      "description": "Position tracking and PnL calculation",
      "description_zh": "仓位追踪与盈亏计算",
      "owner": "trading",
      "priority": "P0",
      "depends_on": ["CORE-001"],
      "blocks": ["PORT-001"],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/trading/CORE-003.md",
        "story": "docs/stories/trading/US-CORE-003.md",
        "contract": "contracts/trading.json#PositionTracker",
        "test": "tests/unit/trading/test_position_tracking.py",
        "code": "src/trading/position.py",
        "review": "logs/reviews/CORE-003.json",
        "docs": "docs/user_guide/trading/position_tracking.md"
      },
      "blockers": []
    },
    {
      "id": "STRAT-001",
      "category": "strategy",
      "description": "Fixed Spread market-making strategy",
      "description_zh": "固定价差做市策略",
      "owner": "trading",
      "priority": "P1",
      "depends_on": ["CORE-002"],
      "blocks": ["UI-001"],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/trading/STRAT-001.md",
        "story": "docs/stories/trading/US-STRAT-001.md",
        "contract": "contracts/trading.json#FixedSpreadStrategy",
        "test": "tests/unit/trading/test_fixed_spread_strategy.py",
        "code": "src/trading/strategies/fixed_spread.py",
        "review": "logs/reviews/STRAT-001.json",
        "docs": "docs/user_guide/trading/fixed_spread_strategy.md"
      },
      "blockers": []
    },
    {
      "id": "STRAT-002",
      "category": "strategy",
      "description": "Funding Rate arbitrage strategy",
      "description_zh": "资金费率套利策略",
      "owner": "trading",
      "priority": "P1",
      "depends_on": ["CORE-002"],
      "blocks": [],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/trading/STRAT-002.md",
        "story": "docs/stories/trading/US-STRAT-002.md",
        "contract": "contracts/trading.json#FundingRateStrategy",
        "test": "tests/unit/trading/test_funding_rate_strategy.py",
        "code": "src/trading/strategies/funding_rate.py",
        "review": "logs/reviews/STRAT-002.json",
        "docs": "docs/user_guide/trading/funding_rate_strategy.md"
      },
      "blockers": []
    },
    {
      "id": "PORT-001",
      "category": "portfolio",
      "description": "Multi-strategy capital allocation",
      "description_zh": "多策略资金分配",
      "owner": "portfolio",
      "priority": "P1",
      "depends_on": ["CORE-003"],
      "blocks": ["PORT-002", "API-002"],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/portfolio/PORT-001.md",
        "story": "docs/stories/portfolio/US-PORT-001.md",
        "contract": "contracts/portfolio.json#PortfolioManager",
        "test": "tests/unit/portfolio/test_capital_allocation.py",
        "code": "src/portfolio/manager.py",
        "review": "logs/reviews/PORT-001.json",
        "docs": "docs/user_guide/portfolio/capital_allocation.md"
      },
      "blockers": []
    },
    {
      "id": "PORT-002",
      "category": "portfolio",
      "description": "Portfolio rebalancing",
      "description_zh": "组合再平衡",
      "owner": "portfolio",
      "priority": "P2",
      "depends_on": ["PORT-001"],
      "blocks": [],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/portfolio/PORT-002.md",
        "story": "docs/stories/portfolio/US-PORT-002.md",
        "contract": "contracts/portfolio.json#Rebalancer",
        "test": "tests/unit/portfolio/test_rebalancing.py",
        "code": "src/portfolio/rebalancer.py",
        "review": "logs/reviews/PORT-002.json",
        "docs": "docs/user_guide/portfolio/rebalancing.md"
      },
      "blockers": []
    },
    {
      "id": "RISK-001",
      "category": "risk",
      "description": "Risk indicators calculation",
      "description_zh": "风险指标计算",
      "owner": "portfolio",
      "priority": "P1",
      "depends_on": [],
      "blocks": ["RISK-002", "API-003"],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/portfolio/RISK-001.md",
        "story": "docs/stories/portfolio/US-RISK-001.md",
        "contract": "contracts/portfolio.json#RiskIndicators",
        "test": "tests/unit/portfolio/test_risk_indicators.py",
        "code": "src/portfolio/risk.py",
        "review": "logs/reviews/RISK-001.json",
        "docs": "docs/user_guide/portfolio/risk_indicators.md"
      },
      "blockers": []
    },
    {
      "id": "RISK-002",
      "category": "risk",
      "description": "Risk alerts and thresholds",
      "description_zh": "风险告警与阈值",
      "owner": "portfolio",
      "priority": "P2",
      "depends_on": ["RISK-001"],
      "blocks": ["UI-003"],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/portfolio/RISK-002.md",
        "story": "docs/stories/portfolio/US-RISK-002.md",
        "contract": "contracts/portfolio.json#RiskAlerts",
        "test": "tests/unit/portfolio/test_risk_alerts.py",
        "code": "src/portfolio/alerts.py",
        "review": "logs/reviews/RISK-002.json",
        "docs": "docs/user_guide/portfolio/risk_alerts.md"
      },
      "blockers": []
    },
    {
      "id": "API-001",
      "category": "api",
      "description": "Bot control API (start/stop)",
      "description_zh": "Bot 控制 API（启动/停止）",
      "owner": "web",
      "priority": "P0",
      "depends_on": [],
      "blocks": ["UI-001"],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/web/API-001.md",
        "story": "docs/stories/web/US-API-001.md",
        "contract": "contracts/web.json#BotControlAPI",
        "test": "tests/unit/web/test_bot_control_api.py",
        "code": "src/web/routes/control.py",
        "review": "logs/reviews/API-001.json",
        "docs": "docs/user_guide/web/bot_control_api.md"
      },
      "blockers": []
    },
    {
      "id": "API-002",
      "category": "api",
      "description": "Portfolio API endpoints",
      "description_zh": "组合管理 API 端点",
      "owner": "web",
      "priority": "P1",
      "depends_on": ["PORT-001"],
      "blocks": ["UI-002"],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/web/API-002.md",
        "story": "docs/stories/web/US-API-002.md",
        "contract": "contracts/web.json#PortfolioAPI",
        "test": "tests/unit/web/test_portfolio_api.py",
        "code": "src/web/routes/portfolio.py",
        "review": "logs/reviews/API-002.json",
        "docs": "docs/user_guide/web/portfolio_api.md"
      },
      "blockers": []
    },
    {
      "id": "API-003",
      "category": "api",
      "description": "Risk indicators API",
      "description_zh": "风险指标 API",
      "owner": "web",
      "priority": "P1",
      "depends_on": ["RISK-001"],
      "blocks": ["UI-003"],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/web/API-003.md",
        "story": "docs/stories/web/US-API-003.md",
        "contract": "contracts/web.json#RiskAPI",
        "test": "tests/unit/web/test_risk_api.py",
        "code": "src/web/routes/risk.py",
        "review": "logs/reviews/API-003.json",
        "docs": "docs/user_guide/web/risk_api.md"
      },
      "blockers": []
    },
    {
      "id": "UI-001",
      "category": "ui",
      "description": "Dashboard main view",
      "description_zh": "仪表盘主视图",
      "owner": "web",
      "priority": "P1",
      "depends_on": ["API-001", "STRAT-001"],
      "blocks": [],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/web/UI-001.md",
        "story": "docs/stories/web/US-UI-001.md",
        "contract": null,
        "test": "tests/unit/web/test_dashboard.py",
        "code": "src/web/templates/index.html",
        "review": "logs/reviews/UI-001.json",
        "docs": "docs/user_guide/web/dashboard.md"
      },
      "blockers": []
    },
    {
      "id": "UI-002",
      "category": "ui",
      "description": "Portfolio overview panel",
      "description_zh": "组合概览面板",
      "owner": "web",
      "priority": "P2",
      "depends_on": ["API-002"],
      "blocks": [],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/web/UI-002.md",
        "story": "docs/stories/web/US-UI-002.md",
        "contract": null,
        "test": "tests/unit/web/test_portfolio_panel.py",
        "code": "src/web/templates/portfolio.html",
        "review": "logs/reviews/UI-002.json",
        "docs": "docs/user_guide/web/portfolio_panel.md"
      },
      "blockers": []
    },
    {
      "id": "UI-003",
      "category": "ui",
      "description": "Risk indicators visualization",
      "description_zh": "风险指标可视化",
      "owner": "web",
      "priority": "P2",
      "depends_on": ["API-003", "RISK-002"],
      "blocks": [],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/web/UI-003.md",
        "story": "docs/stories/web/US-UI-003.md",
        "contract": null,
        "test": "tests/unit/web/test_risk_visualization.py",
        "code": "src/web/templates/risk.html",
        "review": "logs/reviews/UI-003.json",
        "docs": "docs/user_guide/web/risk_visualization.md"
      },
      "blockers": []
    },
    {
      "id": "LLM-001",
      "category": "llm",
      "description": "Multi-LLM evaluation framework",
      "description_zh": "多 LLM 评估框架",
      "owner": "ai",
      "priority": "P1",
      "depends_on": [],
      "blocks": ["LLM-002", "LLM-003"],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/ai/LLM-001.md",
        "story": "docs/stories/ai/US-LLM-001.md",
        "contract": "contracts/ai.json#MultiLLMEvaluator",
        "test": "tests/unit/ai/test_multi_llm_evaluator.py",
        "code": "src/ai/evaluation/evaluator.py",
        "review": "logs/reviews/LLM-001.json",
        "docs": "docs/user_guide/ai/multi_llm_evaluation.md"
      },
      "blockers": []
    },
    {
      "id": "LLM-002",
      "category": "llm",
      "description": "LLM-based market analysis",
      "description_zh": "LLM 市场分析",
      "owner": "ai",
      "priority": "P2",
      "depends_on": ["LLM-001"],
      "blocks": [],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/ai/LLM-002.md",
        "story": "docs/stories/ai/US-LLM-002.md",
        "contract": "contracts/ai.json#MarketAnalyzer",
        "test": "tests/unit/ai/test_market_analysis.py",
        "code": "src/ai/agents/market_analyzer.py",
        "review": "logs/reviews/LLM-002.json",
        "docs": "docs/user_guide/ai/market_analysis.md"
      },
      "blockers": []
    },
    {
      "id": "LLM-003",
      "category": "llm",
      "description": "LLM Trade page functionality",
      "description_zh": "LLM 交易页面功能",
      "owner": "ai",
      "priority": "P2",
      "depends_on": ["LLM-001"],
      "blocks": [],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/ai/LLM-003.md",
        "story": "docs/stories/ai/US-LLM-003.md",
        "contract": null,
        "test": "tests/unit/ai/test_llm_trade_page.py",
        "code": "src/web/templates/LLMTrade.html",
        "review": "logs/reviews/LLM-003.json",
        "docs": "docs/user_guide/ai/llm_trade_page.md"
      },
      "blockers": []
    },
    {
      "id": "TEST-001",
      "category": "testing",
      "description": "Core unit test coverage",
      "description_zh": "核心单元测试覆盖",
      "owner": "qa",
      "priority": "P1",
      "depends_on": [],
      "blocks": [],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/qa/TEST-001.md",
        "story": "docs/stories/qa/US-TEST-001.md",
        "contract": null,
        "test": "tests/integration/test_core_coverage.py",
        "code": null,
        "review": "logs/reviews/TEST-001.json",
        "docs": "docs/user_guide/qa/test_coverage.md"
      },
      "blockers": []
    },
    {
      "id": "TEST-002",
      "category": "testing",
      "description": "API integration tests",
      "description_zh": "API 集成测试",
      "owner": "qa",
      "priority": "P1",
      "depends_on": [],
      "blocks": [],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/qa/TEST-002.md",
        "story": "docs/stories/qa/US-TEST-002.md",
        "contract": null,
        "test": "tests/integration/test_api_integration.py",
        "code": null,
        "review": "logs/reviews/TEST-002.json",
        "docs": "docs/user_guide/qa/api_testing.md"
      },
      "blockers": []
    },
    {
      "id": "DOC-001",
      "category": "documentation",
      "description": "User guide documentation",
      "description_zh": "用户指南文档",
      "owner": "qa",
      "priority": "P2",
      "depends_on": [],
      "blocks": [],
      "current_step": "spec_defined",
      "status": {
        "spec_defined": false,
        "story_defined": false,
        "ac_defined": false,
        "contract_defined": false,
        "unit_test_written": false,
        "code_implemented": false,
        "code_reviewed": false,
        "unit_test_passed": false,
        "smoke_test_passed": false,
        "integration_passed": false,
        "docs_updated": false,
        "progress_logged": false,
        "ci_cd_passed": false
      },
      "artifacts": {
        "spec": "docs/specs/qa/DOC-001.md",
        "story": "docs/stories/qa/US-DOC-001.md",
        "contract": null,
        "test": null,
        "code": null,
        "review": "logs/reviews/DOC-001.json",
        "docs": "docs/user_guide/README.md"
      },
      "blockers": []
    }
  ]
}

